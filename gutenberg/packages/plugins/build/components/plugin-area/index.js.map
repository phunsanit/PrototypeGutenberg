{"version":3,"sources":["@wordpress/plugins/src/components/plugin-area/index.js"],"names":["PluginArea","arguments","setPlugins","bind","state","getCurrentPluginsState","plugins","icon","name","render","Plugin","context","setState","display","Component"],"mappings":";;;;;;;;;AAQA;;;;;;;;;;;;;;AALA;;AAMA;;AAKA;;AACA;;;;;;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAoCMA,U;;;;;AACL,wBAAc;AAAA;;AAAA;AACb,+BAAUC,SAAV;AAEA,UAAKC,UAAL,GAAkB,MAAKA,UAAL,CAAgBC,IAAhB,6CAAlB;AACA,UAAKC,KAAL,GAAa,MAAKC,sBAAL,EAAb;AAJa;AAKb;;;;6CAEwB;AACxB,aAAO;AACNC,QAAAA,OAAO,EAAE,iBAAK,sBAAL,EAAmB,gBAA8B;AAAA,cAA1BC,IAA0B,QAA1BA,IAA0B;AAAA,cAApBC,IAAoB,QAApBA,IAAoB;AAAA,cAAdC,MAAc,QAAdA,MAAc;AACzD,iBAAO;AACNC,YAAAA,MAAM,EAAED,MADF;AAENE,YAAAA,OAAO,EAAE;AACRH,cAAAA,IAAI,EAAJA,IADQ;AAERD,cAAAA,IAAI,EAAJA;AAFQ;AAFH,WAAP;AAOA,SARQ;AADH,OAAP;AAWA;;;wCAEmB;AACnB,4BACC,0BADD,EAEC,6CAFD,EAGC,KAAKL,UAHN;AAKA,4BACC,4BADD,EAEC,+CAFD,EAGC,KAAKA,UAHN;AAKA;;;2CAEsB;AACtB,+BACC,0BADD,EAEC,6CAFD;AAIA,+BACC,4BADD,EAEC,+CAFD;AAIA;;;iCAEY;AACZ,WAAKU,QAAL,CAAe,KAAKP,sBAApB;AACA;;;6BAEQ;AACR,aACC;AAAK,QAAA,KAAK,EAAG;AAAEQ,UAAAA,OAAO,EAAE;AAAX;AAAb,SACG,iBAAK,KAAKT,KAAL,CAAWE,OAAhB,EAAyB;AAAA,YAAIK,OAAJ,SAAIA,OAAJ;AAAA,YAAaD,MAAb,SAAaA,MAAb;AAAA,eAC1B,4BAAC,oCAAD;AACC,UAAA,GAAG,EAAGC,OAAO,CAACH,IADf;AAEC,UAAA,KAAK,EAAGG;AAFT,WAIC,4BAAC,MAAD,OAJD,CAD0B;AAAA,OAAzB,CADH,CADD;AAYA;;;EA/DuBG,kB;;eAkEVd,U","sourcesContent":["/**\n * External dependencies\n */\nimport { map } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { Component } from '@wordpress/element';\nimport { addAction, removeAction } from '@wordpress/hooks';\n\n/**\n * Internal dependencies\n */\nimport { PluginContextProvider } from '../plugin-context';\nimport { getPlugins } from '../../api';\n\n/**\n * A component that renders all plugin fills in a hidden div.\n *\n * @example\n * <caption>ES5</caption>\n * ```js\n * // Using ES5 syntax\n * var el = wp.element.createElement;\n * var PluginArea = wp.plugins.PluginArea;\n *\n * function Layout() {\n * \treturn el(\n * \t\t'div',\n * \t\t{},\n * \t\t'Content of the page',\n * \t\tPluginArea\n * \t);\n * }\n * ```\n *\n * @example\n * <caption>ESNext</caption>\n * ```js\n * // Using ESNext syntax\n * const { PluginArea } = wp.plugins;\n *\n * const Layout = () => (\n * \t<div>\n * \t\tContent of the page\n * \t\t<PluginArea />\n * \t</div>\n * );\n * ```\n *\n * @return {WPComponent} The component to be rendered.\n */\nclass PluginArea extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\n\t\tthis.setPlugins = this.setPlugins.bind( this );\n\t\tthis.state = this.getCurrentPluginsState();\n\t}\n\n\tgetCurrentPluginsState() {\n\t\treturn {\n\t\t\tplugins: map( getPlugins(), ( { icon, name, render } ) => {\n\t\t\t\treturn {\n\t\t\t\t\tPlugin: render,\n\t\t\t\t\tcontext: {\n\t\t\t\t\t\tname,\n\t\t\t\t\t\ticon,\n\t\t\t\t\t},\n\t\t\t\t};\n\t\t\t} ),\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\taddAction(\n\t\t\t'plugins.pluginRegistered',\n\t\t\t'core/plugins/plugin-area/plugins-registered',\n\t\t\tthis.setPlugins\n\t\t);\n\t\taddAction(\n\t\t\t'plugins.pluginUnregistered',\n\t\t\t'core/plugins/plugin-area/plugins-unregistered',\n\t\t\tthis.setPlugins\n\t\t);\n\t}\n\n\tcomponentWillUnmount() {\n\t\tremoveAction(\n\t\t\t'plugins.pluginRegistered',\n\t\t\t'core/plugins/plugin-area/plugins-registered'\n\t\t);\n\t\tremoveAction(\n\t\t\t'plugins.pluginUnregistered',\n\t\t\t'core/plugins/plugin-area/plugins-unregistered'\n\t\t);\n\t}\n\n\tsetPlugins() {\n\t\tthis.setState( this.getCurrentPluginsState );\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div style={ { display: 'none' } }>\n\t\t\t\t{ map( this.state.plugins, ( { context, Plugin } ) => (\n\t\t\t\t\t<PluginContextProvider\n\t\t\t\t\t\tkey={ context.name }\n\t\t\t\t\t\tvalue={ context }\n\t\t\t\t\t>\n\t\t\t\t\t\t<Plugin />\n\t\t\t\t\t</PluginContextProvider>\n\t\t\t\t) ) }\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default PluginArea;\n"]}