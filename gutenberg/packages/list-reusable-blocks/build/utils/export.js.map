{"version":3,"sources":["@wordpress/list-reusable-blocks/src/utils/export.js"],"names":["exportReusableBlock","id","path","postType","rest_base","post","title","raw","content","fileContent","JSON","stringify","__file","fileName"],"mappings":";;;;;;;;;;;;;AAGA;;AAKA;;AAKA;;AAbA;;;;AAKA;;;;AAKA;;;;AAKA;;;;;SAKeA,mB;;;;;iGAAf,iBAAoCC,EAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACwB,uBAAU;AAAEC,cAAAA,IAAI;AAAN,aAAV,CADxB;;AAAA;AACOC,YAAAA,QADP;AAAA;AAAA,mBAEoB,uBAAU;AAC5BD,cAAAA,IAAI,mBAAaC,QAAQ,CAACC,SAAtB,cAAqCH,EAArC;AADwB,aAAV,CAFpB;;AAAA;AAEOI,YAAAA,IAFP;AAKOC,YAAAA,KALP,GAKeD,IAAI,CAACC,KAAL,CAAWC,GAL1B;AAMOC,YAAAA,OANP,GAMiBH,IAAI,CAACG,OAAL,CAAaD,GAN9B;AAOOE,YAAAA,WAPP,GAOqBC,IAAI,CAACC,SAAL,CACnB;AACCC,cAAAA,MAAM,EAAE,UADT;AAECN,cAAAA,KAAK,EAALA,KAFD;AAGCE,cAAAA,OAAO,EAAPA;AAHD,aADmB,EAMnB,IANmB,EAOnB,CAPmB,CAPrB;AAgBOK,YAAAA,QAhBP,GAgBkB,uBAAWP,KAAX,IAAqB,OAhBvC;AAkBC,gCAAUO,QAAV,EAAoBJ,WAApB,EAAiC,kBAAjC;;AAlBD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;eAqBeT,mB","sourcesContent":["/**\n * External dependencies\n */\nimport { kebabCase } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport apiFetch from '@wordpress/api-fetch';\n\n/**\n * Internal dependencies\n */\nimport { download } from './file';\n\n/**\n * Export a reusable block as a JSON file.\n *\n * @param {number} id\n */\nasync function exportReusableBlock( id ) {\n\tconst postType = await apiFetch( { path: `/wp/v2/types/wp_block` } );\n\tconst post = await apiFetch( {\n\t\tpath: `/wp/v2/${ postType.rest_base }/${ id }?context=edit`,\n\t} );\n\tconst title = post.title.raw;\n\tconst content = post.content.raw;\n\tconst fileContent = JSON.stringify(\n\t\t{\n\t\t\t__file: 'wp_block',\n\t\t\ttitle,\n\t\t\tcontent,\n\t\t},\n\t\tnull,\n\t\t2\n\t);\n\tconst fileName = kebabCase( title ) + '.json';\n\n\tdownload( fileName, fileContent, 'application/json' );\n}\n\nexport default exportReusableBlock;\n"]}