{"version":3,"sources":["@wordpress/edit-widgets/src/components/save-button/index.js"],"names":["SaveButton","select","hasEditsForEntityRecord","isSavingEntityRecord","getEntityRecords","widgetAreas","widgetAreaIds","id","editedWidgetAreaIds","isSaving","saveEditedEntityRecord","onClick","undefined","length"],"mappings":";;;;;;;AAUA;;AAPA;;AAKA;;AACA;;AAEA;;AAXA;;;;AAKA;;;AAQA,SAASA,UAAT,GAAsB;AAAA,mBACqB,qBAAW,UAAEC,MAAF,EAAc;AAAA,kBAK9DA,MAAM,CAAE,MAAF,CALwD;AAAA,QAEjEC,uBAFiE,WAEjEA,uBAFiE;AAAA,QAGjEC,oBAHiE,WAGjEA,oBAHiE;AAAA,QAIjEC,gBAJiE,WAIjEA,gBAJiE;;AAMlE,QAAMC,WAAW,GAAGD,gBAAgB,CAAE,MAAF,EAAU,YAAV,CAApC;AACA,QAAME,aAAa,GAAG,iBAAKD,WAAL,EAAkB;AAAA,UAAIE,EAAJ,QAAIA,EAAJ;AAAA,aAAcA,EAAd;AAAA,KAAlB,CAAtB;AACA,WAAO;AACNC,MAAAA,mBAAmB,EAAE,oBAAQF,aAAR,EAAuB,UAAEC,EAAF;AAAA,eAC3CL,uBAAuB,CAAE,MAAF,EAAU,YAAV,EAAwBK,EAAxB,CADoB;AAAA,OAAvB,CADf;AAINE,MAAAA,QAAQ,EAAE,kBAAMH,aAAN,EAAqB,UAAEC,EAAF;AAAA,eAC9BJ,oBAAoB,CAAE,MAAF,EAAU,YAAV,EAAwBI,EAAxB,CADU;AAAA,OAArB;AAJJ,KAAP;AAQA,GAhByC,EAgBvC,EAhBuC,CADrB;AAAA,MACbC,mBADa,cACbA,mBADa;AAAA,MACQC,QADR,cACQA,QADR;;AAAA,qBAkBc,uBAAa,MAAb,CAlBd;AAAA,MAkBbC,sBAlBa,gBAkBbA,sBAlBa;;AAoBrB,MAAMC,OAAO,GAAG,0BAAa,YAAM;AAClC,yBAASH,mBAAT,EAA8B,UAAED,EAAF,EAAU;AACvCG,MAAAA,sBAAsB,CAAE,MAAF,EAAU,YAAV,EAAwBH,EAAxB,CAAtB;AACA,KAFD;AAGA,GAJe,EAIb,CAAEC,mBAAF,CAJa,CAAhB;AAMA,SACC,4BAAC,kBAAD;AACC,IAAA,SAAS,MADV;AAEC,IAAA,MAAM,EAAGC,QAFV;AAGC,qBAAgBA,QAHjB;AAIC,IAAA,OAAO,EAAGA,QAAQ,GAAGG,SAAH,GAAeD,OAJlC;AAKC,IAAA,QAAQ,EAAGH,mBAAmB,CAACK,MAApB,KAA+B;AAL3C,KAOG,cAAI,QAAJ,CAPH,CADD;AAWA;;eAEcb,U","sourcesContent":["/**\n * External dependencies\n */\nimport { filter, map, some, forEach } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { Button } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { useCallback } from '@wordpress/element';\nimport { useDispatch, useSelect } from '@wordpress/data';\n\nfunction SaveButton() {\n\tconst { editedWidgetAreaIds, isSaving } = useSelect( ( select ) => {\n\t\tconst {\n\t\t\thasEditsForEntityRecord,\n\t\t\tisSavingEntityRecord,\n\t\t\tgetEntityRecords,\n\t\t} = select( 'core' );\n\t\tconst widgetAreas = getEntityRecords( 'root', 'widgetArea' );\n\t\tconst widgetAreaIds = map( widgetAreas, ( { id } ) => id );\n\t\treturn {\n\t\t\teditedWidgetAreaIds: filter( widgetAreaIds, ( id ) =>\n\t\t\t\thasEditsForEntityRecord( 'root', 'widgetArea', id )\n\t\t\t),\n\t\t\tisSaving: some( widgetAreaIds, ( id ) =>\n\t\t\t\tisSavingEntityRecord( 'root', 'widgetArea', id )\n\t\t\t),\n\t\t};\n\t}, [] );\n\tconst { saveEditedEntityRecord } = useDispatch( 'core' );\n\n\tconst onClick = useCallback( () => {\n\t\tforEach( editedWidgetAreaIds, ( id ) => {\n\t\t\tsaveEditedEntityRecord( 'root', 'widgetArea', id );\n\t\t} );\n\t}, [ editedWidgetAreaIds ] );\n\n\treturn (\n\t\t<Button\n\t\t\tisPrimary\n\t\t\tisBusy={ isSaving }\n\t\t\taria-disabled={ isSaving }\n\t\t\tonClick={ isSaving ? undefined : onClick }\n\t\t\tdisabled={ editedWidgetAreaIds.length === 0 }\n\t\t>\n\t\t\t{ __( 'Update' ) }\n\t\t</Button>\n\t);\n}\n\nexport default SaveButton;\n"]}