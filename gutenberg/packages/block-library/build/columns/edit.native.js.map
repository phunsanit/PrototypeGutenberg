{"version":3,"sources":["@wordpress/block-library/src/columns/edit.native.js"],"names":["ALLOWED_BLOCKS","DEFAULT_COLUMNS","MIN_COLUMNS_NUMBER","BREAKPOINTS","mobile","large","ColumnsEditContainer","attributes","updateAlignment","updateColumns","columnCount","isSelected","onAddNextColumn","onDeleteBlock","resizeListener","sizes","columnsInRow","setColumnsInRow","containerMaxWidth","styles","columnsContainer","maxWidth","verticalAlignment","width","newColumnCount","getColumnsInRow","getColumnWidth","containerWidth","minWidth","Math","min","columnBaseWidth","columnWidth","margins","columnMargin","marginLeft","columnsNumber","max","renderAppender","value","innerBlocksSelected","undefined","ColumnsEditContainerWrapper","dispatch","ownProps","registry","clientId","setAttributes","updateBlockAttributes","select","getBlockOrder","innerBlockClientIds","forEach","innerBlockClientId","updateBlockSettings","settings","updateBlockListSettings","previousColumns","newColumns","replaceInnerBlocks","getBlocks","getBlockAttributes","innerBlocks","isAddingColumn","selectBlock","insertedBlock","push","removeBlock","ColumnsEdit","props","getBlockCount"],"mappings":"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","sourcesContent":["/**\n * External dependencies\n */\nimport { View } from 'react-native';\nimport { dropRight, times } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { PanelBody, RangeControl } from '@wordpress/components';\nimport {\n\tInspectorControls,\n\tInnerBlocks,\n\tBlockControls,\n\tBlockVerticalAlignmentToolbar,\n} from '@wordpress/block-editor';\nimport { withDispatch, useSelect } from '@wordpress/data';\nimport { useEffect, useState } from '@wordpress/element';\nimport { useResizeObserver } from '@wordpress/compose';\nimport { createBlock } from '@wordpress/blocks';\n/**\n * Internal dependencies\n */\nimport styles from './editor.scss';\n\n/**\n * Allowed blocks constant is passed to InnerBlocks precisely as specified here.\n * The contents of the array should never change.\n * The array should contain the name of each block that is allowed.\n * In columns block, the only block we allow is 'core/column'.\n *\n * @constant\n * @type {string[]}\n */\nconst ALLOWED_BLOCKS = [ 'core/column' ];\n\n/**\n * Number of columns to assume for template in case the user opts to skip\n * template option selection.\n *\n * @type {number}\n */\nconst DEFAULT_COLUMNS = 2;\nconst MIN_COLUMNS_NUMBER = 1;\n\nconst BREAKPOINTS = {\n\tmobile: 480,\n\tlarge: 768,\n};\n\nfunction ColumnsEditContainer( {\n\tattributes,\n\tupdateAlignment,\n\tupdateColumns,\n\tcolumnCount,\n\tisSelected,\n\tonAddNextColumn,\n\tonDeleteBlock,\n} ) {\n\tconst [ resizeListener, sizes ] = useResizeObserver();\n\tconst [ columnsInRow, setColumnsInRow ] = useState( MIN_COLUMNS_NUMBER );\n\n\tconst containerMaxWidth = styles.columnsContainer.maxWidth;\n\n\tconst { verticalAlignment } = attributes;\n\tconst { width } = sizes || {};\n\n\tuseEffect( () => {\n\t\tconst newColumnCount = ! columnCount ? DEFAULT_COLUMNS : columnCount;\n\t\tupdateColumns( columnCount, newColumnCount );\n\t\tsetColumnsInRow( getColumnsInRow( width, newColumnCount ) );\n\t}, [ columnCount ] );\n\n\tuseEffect( () => {\n\t\tsetColumnsInRow( getColumnsInRow( width, columnCount ) );\n\t}, [ width ] );\n\n\tconst getColumnWidth = ( containerWidth = containerMaxWidth ) => {\n\t\tconst minWidth = Math.min( containerWidth, containerMaxWidth );\n\t\tconst columnBaseWidth = minWidth / columnsInRow;\n\n\t\tlet columnWidth = columnBaseWidth;\n\t\tif ( columnsInRow > 1 ) {\n\t\t\tconst margins = columnsInRow * 2 * styles.columnMargin.marginLeft;\n\t\t\tcolumnWidth = ( minWidth - margins ) / columnsInRow;\n\t\t}\n\n\t\treturn columnWidth;\n\t};\n\n\tconst getColumnsInRow = ( containerWidth, columnsNumber ) => {\n\t\tif ( containerWidth < BREAKPOINTS.mobile ) {\n\t\t\t// show only 1 Column in row for mobile breakpoint container width\n\t\t\treturn 1;\n\t\t} else if ( containerWidth < BREAKPOINTS.large ) {\n\t\t\t// show 2 Column in row for large breakpoint container width\n\t\t\treturn Math.min( Math.max( 1, columnCount ), 2 );\n\t\t}\n\t\t// show all Column in one row\n\t\treturn Math.max( 1, columnsNumber );\n\t};\n\n\tconst renderAppender = () => {\n\t\tif ( isSelected ) {\n\t\t\treturn (\n\t\t\t\t<InnerBlocks.ButtonBlockAppender\n\t\t\t\t\tonAddBlock={ onAddNextColumn }\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t\treturn null;\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<InspectorControls>\n\t\t\t\t<PanelBody title={ __( 'Columns Settings' ) }>\n\t\t\t\t\t<RangeControl\n\t\t\t\t\t\tlabel={ __( 'Number of columns' ) }\n\t\t\t\t\t\ticon=\"columns\"\n\t\t\t\t\t\tvalue={ columnCount }\n\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\tupdateColumns( columnCount, value )\n\t\t\t\t\t\t}\n\t\t\t\t\t\tmin={ MIN_COLUMNS_NUMBER }\n\t\t\t\t\t\tmax={ columnCount + 1 }\n\t\t\t\t\t\ttype=\"stepper\"\n\t\t\t\t\t/>\n\t\t\t\t</PanelBody>\n\t\t\t</InspectorControls>\n\t\t\t<BlockControls>\n\t\t\t\t<BlockVerticalAlignmentToolbar\n\t\t\t\t\tonChange={ updateAlignment }\n\t\t\t\t\tvalue={ verticalAlignment }\n\t\t\t\t/>\n\t\t\t</BlockControls>\n\t\t\t<View style={ isSelected && styles.innerBlocksSelected }>\n\t\t\t\t{ resizeListener }\n\t\t\t\t<InnerBlocks\n\t\t\t\t\trenderAppender={ renderAppender }\n\t\t\t\t\t__experimentalMoverDirection={\n\t\t\t\t\t\tcolumnsInRow > 1 ? 'horizontal' : undefined\n\t\t\t\t\t}\n\t\t\t\t\thorizontal={ true }\n\t\t\t\t\tallowedBlocks={ ALLOWED_BLOCKS }\n\t\t\t\t\tcontentResizeMode=\"stretch\"\n\t\t\t\t\tonAddBlock={ onAddNextColumn }\n\t\t\t\t\tonDeleteBlock={\n\t\t\t\t\t\tcolumnCount === 1 ? onDeleteBlock : undefined\n\t\t\t\t\t}\n\t\t\t\t\tcontentStyle={ { width: getColumnWidth( width ) } }\n\t\t\t\t/>\n\t\t\t</View>\n\t\t</>\n\t);\n}\n\nconst ColumnsEditContainerWrapper = withDispatch(\n\t( dispatch, ownProps, registry ) => ( {\n\t\t/**\n\t\t * Update all child Column blocks with a new vertical alignment setting\n\t\t * based on whatever alignment is passed in. This allows change to parent\n\t\t * to overide anything set on a individual column basis.\n\t\t *\n\t\t * @param {string} verticalAlignment the vertical alignment setting\n\t\t */\n\t\tupdateAlignment( verticalAlignment ) {\n\t\t\tconst { clientId, setAttributes } = ownProps;\n\t\t\tconst { updateBlockAttributes } = dispatch( 'core/block-editor' );\n\t\t\tconst { getBlockOrder } = registry.select( 'core/block-editor' );\n\n\t\t\t// Update own alignment.\n\t\t\tsetAttributes( { verticalAlignment } );\n\n\t\t\t// Update all child Column Blocks to match\n\t\t\tconst innerBlockClientIds = getBlockOrder( clientId );\n\t\t\tinnerBlockClientIds.forEach( ( innerBlockClientId ) => {\n\t\t\t\tupdateBlockAttributes( innerBlockClientId, {\n\t\t\t\t\tverticalAlignment,\n\t\t\t\t} );\n\t\t\t} );\n\t\t},\n\t\tupdateBlockSettings( settings ) {\n\t\t\tconst { clientId } = ownProps;\n\t\t\tconst { updateBlockListSettings } = dispatch( 'core/block-editor' );\n\t\t\tupdateBlockListSettings( clientId, settings );\n\t\t},\n\t\t/**\n\t\t * Updates the column columnCount, including necessary revisions to child Column\n\t\t * blocks to grant required or redistribute available space.\n\t\t *\n\t\t * @param {number} previousColumns Previous column columnCount.\n\t\t * @param {number} newColumns      New column columnCount.\n\t\t */\n\t\tupdateColumns( previousColumns, newColumns ) {\n\t\t\tconst { clientId } = ownProps;\n\t\t\tconst { replaceInnerBlocks } = dispatch( 'core/block-editor' );\n\t\t\tconst { getBlocks, getBlockAttributes } = registry.select(\n\t\t\t\t'core/block-editor'\n\t\t\t);\n\n\t\t\tlet innerBlocks = getBlocks( clientId );\n\n\t\t\t// Redistribute available width for existing inner blocks.\n\t\t\tconst isAddingColumn = newColumns > previousColumns;\n\n\t\t\tif ( isAddingColumn ) {\n\t\t\t\t// Get verticalAlignment from Columns block to set the same to new Column\n\t\t\t\tconst { verticalAlignment } = getBlockAttributes( clientId );\n\n\t\t\t\tinnerBlocks = [\n\t\t\t\t\t...innerBlocks,\n\t\t\t\t\t...times( newColumns - previousColumns, () => {\n\t\t\t\t\t\treturn createBlock( 'core/column', {\n\t\t\t\t\t\t\tverticalAlignment,\n\t\t\t\t\t\t} );\n\t\t\t\t\t} ),\n\t\t\t\t];\n\t\t\t} else {\n\t\t\t\t// The removed column will be the last of the inner blocks.\n\t\t\t\tinnerBlocks = dropRight(\n\t\t\t\t\tinnerBlocks,\n\t\t\t\t\tpreviousColumns - newColumns\n\t\t\t\t);\n\t\t\t}\n\n\t\t\treplaceInnerBlocks( clientId, innerBlocks, false );\n\t\t},\n\t\tonAddNextColumn: () => {\n\t\t\tconst { clientId } = ownProps;\n\t\t\tconst { replaceInnerBlocks, selectBlock } = dispatch(\n\t\t\t\t'core/block-editor'\n\t\t\t);\n\t\t\tconst { getBlocks, getBlockAttributes } = registry.select(\n\t\t\t\t'core/block-editor'\n\t\t\t);\n\n\t\t\t// Get verticalAlignment from Columns block to set the same to new Column\n\t\t\tconst { verticalAlignment } = getBlockAttributes( clientId );\n\n\t\t\tconst innerBlocks = getBlocks( clientId );\n\n\t\t\tconst insertedBlock = createBlock( 'core/column', {\n\t\t\t\tverticalAlignment,\n\t\t\t} );\n\n\t\t\tinnerBlocks.push( insertedBlock );\n\n\t\t\treplaceInnerBlocks( clientId, innerBlocks, true );\n\t\t\tselectBlock( insertedBlock.clientId );\n\t\t},\n\t\tonDeleteBlock: () => {\n\t\t\tconst { clientId } = ownProps;\n\t\t\tconst { removeBlock } = dispatch( 'core/block-editor' );\n\t\t\tremoveBlock( clientId );\n\t\t},\n\t} )\n)( ColumnsEditContainer );\n\nconst ColumnsEdit = ( props ) => {\n\tconst { clientId } = props;\n\tconst { columnCount } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getBlockCount } = select( 'core/block-editor' );\n\n\t\t\treturn {\n\t\t\t\tcolumnCount: getBlockCount( clientId ),\n\t\t\t};\n\t\t},\n\t\t[ clientId ]\n\t);\n\n\treturn (\n\t\t<ColumnsEditContainerWrapper columnCount={ columnCount } { ...props } />\n\t);\n};\n\nexport default ColumnsEdit;\n"]}