{"version":3,"sources":["@wordpress/block-library/src/query/edit/index.js"],"names":["useInstanceId","useEffect","BlockControls","InnerBlocks","QueryToolbar","QueryProvider","TEMPLATE","QueryEdit","attributes","queryId","query","setAttributes","instanceId","newQuery"],"mappings":";;;;;;;AAAA;;;AAGA,SAASA,aAAT,QAA8B,oBAA9B;AACA,SAASC,SAAT,QAA0B,oBAA1B;AACA,SAASC,aAAT,EAAwBC,WAAxB,QAA2C,yBAA3C;AAEA;;;;AAGA,OAAOC,YAAP,MAAyB,iBAAzB;AACA,OAAOC,aAAP,MAA0B,kBAA1B;AAEA,IAAMC,QAAQ,GAAG,CAAE,CAAE,iBAAF,CAAF,EAAyB,CAAE,uBAAF,CAAzB,CAAjB;AACA,eAAe,SAASC,SAAT,OAGX;AAAA,6BAFHC,UAEG;AAAA,MAFWC,OAEX,mBAFWA,OAEX;AAAA,MAFoBC,KAEpB,mBAFoBA,KAEpB;AAAA,MADHC,aACG,QADHA,aACG;AACH,MAAMC,UAAU,GAAGZ,aAAa,CAAEO,SAAF,CAAhC,CADG,CAEH;AACA;;AACAN,EAAAA,SAAS,CAAE,YAAM;AAChB,QAAK,CAAEQ,OAAP,EAAiB;AAChBE,MAAAA,aAAa,CAAE;AAAEF,QAAAA,OAAO,EAAEG;AAAX,OAAF,CAAb;AACA;AACD,GAJQ,EAIN,CAAEH,OAAF,EAAWG,UAAX,CAJM,CAAT;AAKA,SACC,8BACC,cAAC,aAAD,QACC,cAAC,YAAD;AACC,IAAA,KAAK,EAAGF,KADT;AAEC,IAAA,QAAQ,EAAG,kBAAEG,QAAF;AAAA,aACVF,aAAa,CAAE;AAAED,QAAAA,KAAK,oBAAOA,KAAP,MAAiBG,QAAjB;AAAP,OAAF,CADH;AAAA;AAFZ,IADD,CADD,EASC,cAAC,aAAD,QACC,cAAC,WAAD;AAAa,IAAA,QAAQ,EAAGP;AAAxB,IADD,CATD,CADD;AAeA;AAED,cAAc,kBAAd","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { useInstanceId } from '@wordpress/compose';\nimport { useEffect } from '@wordpress/element';\nimport { BlockControls, InnerBlocks } from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport QueryToolbar from './query-toolbar';\nimport QueryProvider from './query-provider';\n\nconst TEMPLATE = [ [ 'core/query-loop' ], [ 'core/query-pagination' ] ];\nexport default function QueryEdit( {\n\tattributes: { queryId, query },\n\tsetAttributes,\n} ) {\n\tconst instanceId = useInstanceId( QueryEdit );\n\t// We need this for multi-query block pagination.\n\t// Query parameters for each block are scoped to their ID.\n\tuseEffect( () => {\n\t\tif ( ! queryId ) {\n\t\t\tsetAttributes( { queryId: instanceId } );\n\t\t}\n\t}, [ queryId, instanceId ] );\n\treturn (\n\t\t<>\n\t\t\t<BlockControls>\n\t\t\t\t<QueryToolbar\n\t\t\t\t\tquery={ query }\n\t\t\t\t\tsetQuery={ ( newQuery ) =>\n\t\t\t\t\t\tsetAttributes( { query: { ...query, ...newQuery } } )\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t</BlockControls>\n\t\t\t<QueryProvider>\n\t\t\t\t<InnerBlocks template={ TEMPLATE } />\n\t\t\t</QueryProvider>\n\t\t</>\n\t);\n}\n\nexport * from './query-provider';\n"]}