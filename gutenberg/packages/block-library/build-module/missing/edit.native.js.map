{"version":3,"sources":["@wordpress/block-library/src/missing/edit.native.js"],"names":["Platform","View","Text","TouchableWithoutFeedback","BottomSheet","Icon","withPreferredColorScheme","coreBlocks","normalizeIconObject","Component","__","sprintf","help","plugins","styles","UnsupportedBlockEdit","props","state","showHelp","setState","infoIconStyle","getStylesFromColorScheme","infoIcon","infoIconDark","toggleSheet","bind","helpIconContainer","color","title","infoTextStyle","infoText","infoTextDark","infoTitleStyle","infoTitle","infoTitleDark","infoDescriptionStyle","infoDescription","infoDescriptionDark","infoSheetIconStyle","infoSheetIcon","infoSheetIconDark","titleFormat","OS","infoContainer","size","originalName","attributes","preferredColorScheme","blockType","settings","titleStyle","unsupportedBlockMessage","unsupportedBlockMessageDark","subTitleStyle","unsupportedBlockSubtitle","unsupportedBlockSubtitleDark","subtitle","icon","iconStyle","unsupportedBlockIcon","unsupportedBlockIconDark","iconClassName","unsupportedBlock","unsupportedBlockDark","renderHelpIcon","src","renderSheet"],"mappings":"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","sourcesContent":["/**\n * External dependencies\n */\nimport { Platform, View, Text, TouchableWithoutFeedback } from 'react-native';\n\n/**\n * WordPress dependencies\n */\nimport { BottomSheet, Icon } from '@wordpress/components';\nimport { withPreferredColorScheme } from '@wordpress/compose';\nimport { coreBlocks } from '@wordpress/block-library';\nimport { normalizeIconObject } from '@wordpress/blocks';\nimport { Component } from '@wordpress/element';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { help, plugins } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport styles from './style.scss';\n\nexport class UnsupportedBlockEdit extends Component {\n\tconstructor( props ) {\n\t\tsuper( props );\n\t\tthis.state = { showHelp: false };\n\t}\n\n\ttoggleSheet() {\n\t\tthis.setState( {\n\t\t\tshowHelp: ! this.state.showHelp,\n\t\t} );\n\t}\n\n\trenderHelpIcon() {\n\t\tconst infoIconStyle = this.props.getStylesFromColorScheme(\n\t\t\tstyles.infoIcon,\n\t\t\tstyles.infoIconDark\n\t\t);\n\n\t\treturn (\n\t\t\t<TouchableWithoutFeedback\n\t\t\t\taccessibilityLabel={ __( 'Help icon' ) }\n\t\t\t\taccessibilityRole={ 'button' }\n\t\t\t\taccessibilityHint={ __( 'Tap here to show help' ) }\n\t\t\t\tonPress={ this.toggleSheet.bind( this ) }\n\t\t\t>\n\t\t\t\t<View style={ styles.helpIconContainer }>\n\t\t\t\t\t<Icon\n\t\t\t\t\t\tclassName=\"unsupported-icon-help\"\n\t\t\t\t\t\tlabel={ __( 'Help icon' ) }\n\t\t\t\t\t\ticon={ help }\n\t\t\t\t\t\tcolor={ infoIconStyle.color }\n\t\t\t\t\t/>\n\t\t\t\t</View>\n\t\t\t</TouchableWithoutFeedback>\n\t\t);\n\t}\n\n\trenderSheet( title ) {\n\t\tconst { getStylesFromColorScheme } = this.props;\n\t\tconst infoTextStyle = getStylesFromColorScheme(\n\t\t\tstyles.infoText,\n\t\t\tstyles.infoTextDark\n\t\t);\n\t\tconst infoTitleStyle = getStylesFromColorScheme(\n\t\t\tstyles.infoTitle,\n\t\t\tstyles.infoTitleDark\n\t\t);\n\t\tconst infoDescriptionStyle = getStylesFromColorScheme(\n\t\t\tstyles.infoDescription,\n\t\t\tstyles.infoDescriptionDark\n\t\t);\n\t\tconst infoSheetIconStyle = getStylesFromColorScheme(\n\t\t\tstyles.infoSheetIcon,\n\t\t\tstyles.infoSheetIconDark\n\t\t);\n\n\t\tconst titleFormat =\n\t\t\tPlatform.OS === 'android'\n\t\t\t\t? // translators: %s: Name of the block\n\t\t\t\t  __( \"'%s' isn't yet supported on WordPress for Android\" )\n\t\t\t\t: // translators: %s: Name of the block\n\t\t\t\t  __( \"'%s' isn't yet supported on WordPress for iOS\" );\n\t\tconst infoTitle = sprintf( titleFormat, title );\n\n\t\treturn (\n\t\t\t<BottomSheet\n\t\t\t\tisVisible={ this.state.showHelp }\n\t\t\t\thideHeader\n\t\t\t\tonClose={ this.toggleSheet.bind( this ) }\n\t\t\t>\n\t\t\t\t<View style={ styles.infoContainer }>\n\t\t\t\t\t<Icon\n\t\t\t\t\t\ticon={ help }\n\t\t\t\t\t\tcolor={ infoSheetIconStyle.color }\n\t\t\t\t\t\tsize={ styles.infoSheetIcon.size }\n\t\t\t\t\t/>\n\t\t\t\t\t<Text style={ [ infoTextStyle, infoTitleStyle ] }>\n\t\t\t\t\t\t{ infoTitle }\n\t\t\t\t\t</Text>\n\t\t\t\t\t<Text style={ [ infoTextStyle, infoDescriptionStyle ] }>\n\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t'We are working hard to add more blocks with each release. In the meantime, you can also edit this post on the web.'\n\t\t\t\t\t\t) }\n\t\t\t\t\t</Text>\n\t\t\t\t</View>\n\t\t\t</BottomSheet>\n\t\t);\n\t}\n\n\trender() {\n\t\tconst { originalName } = this.props.attributes;\n\t\tconst { getStylesFromColorScheme, preferredColorScheme } = this.props;\n\t\tconst blockType = coreBlocks[ originalName ];\n\n\t\tconst title = blockType ? blockType.settings.title : originalName;\n\t\tconst titleStyle = getStylesFromColorScheme(\n\t\t\tstyles.unsupportedBlockMessage,\n\t\t\tstyles.unsupportedBlockMessageDark\n\t\t);\n\n\t\tconst subTitleStyle = getStylesFromColorScheme(\n\t\t\tstyles.unsupportedBlockSubtitle,\n\t\t\tstyles.unsupportedBlockSubtitleDark\n\t\t);\n\t\tconst subtitle = (\n\t\t\t<Text style={ subTitleStyle }>{ __( 'Unsupported' ) }</Text>\n\t\t);\n\n\t\tconst icon = blockType\n\t\t\t? normalizeIconObject( blockType.settings.icon )\n\t\t\t: plugins;\n\t\tconst iconStyle = getStylesFromColorScheme(\n\t\t\tstyles.unsupportedBlockIcon,\n\t\t\tstyles.unsupportedBlockIconDark\n\t\t);\n\t\tconst iconClassName = 'unsupported-icon' + '-' + preferredColorScheme;\n\t\treturn (\n\t\t\t<View\n\t\t\t\tstyle={ getStylesFromColorScheme(\n\t\t\t\t\tstyles.unsupportedBlock,\n\t\t\t\t\tstyles.unsupportedBlockDark\n\t\t\t\t) }\n\t\t\t>\n\t\t\t\t{ this.renderHelpIcon() }\n\t\t\t\t<Icon\n\t\t\t\t\tclassName={ iconClassName }\n\t\t\t\t\ticon={ icon && icon.src ? icon.src : icon }\n\t\t\t\t\tcolor={ iconStyle.color }\n\t\t\t\t/>\n\t\t\t\t<Text style={ titleStyle }>{ title }</Text>\n\t\t\t\t{ subtitle }\n\t\t\t\t{ this.renderSheet( title ) }\n\t\t\t</View>\n\t\t);\n\t}\n}\n\nexport default withPreferredColorScheme( UnsupportedBlockEdit );\n"]}