{"version":3,"sources":["@wordpress/block-library/src/column/edit.native.js"],"names":["View","withSelect","compose","withPreferredColorScheme","InnerBlocks","BlockControls","BlockVerticalAlignmentToolbar","styles","ColumnEdit","attributes","setAttributes","hasChildren","isSelected","getStylesFromColorScheme","isParentSelected","contentStyle","verticalAlignment","updateAlignment","alignment","columnPlaceholder","columnPlaceholderDark","columnPlaceholderNotSelected","innerBlocksBottomSpace","ButtonBlockAppender","ColumnEditWrapper","props","getVerticalAlignmentRemap","flexBase","select","clientId","getBlockCount","getBlockRootClientId","getSelectedBlockClientId","selectedBlockClientId","parentId"],"mappings":"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","sourcesContent":["/**\n * External dependencies\n */\nimport { View } from 'react-native';\n\n/**\n * WordPress dependencies\n */\nimport { withSelect } from '@wordpress/data';\nimport { compose, withPreferredColorScheme } from '@wordpress/compose';\nimport {\n\tInnerBlocks,\n\tBlockControls,\n\tBlockVerticalAlignmentToolbar,\n} from '@wordpress/block-editor';\n/**\n * Internal dependencies\n */\nimport styles from './editor.scss';\n\nfunction ColumnEdit( {\n\tattributes,\n\tsetAttributes,\n\thasChildren,\n\tisSelected,\n\tgetStylesFromColorScheme,\n\tisParentSelected,\n\tcontentStyle,\n} ) {\n\tconst { verticalAlignment } = attributes;\n\n\tconst updateAlignment = ( alignment ) => {\n\t\tsetAttributes( { verticalAlignment: alignment } );\n\t};\n\n\tif ( ! isSelected && ! hasChildren ) {\n\t\treturn (\n\t\t\t<View\n\t\t\t\tstyle={ [\n\t\t\t\t\t! isParentSelected &&\n\t\t\t\t\t\tgetStylesFromColorScheme(\n\t\t\t\t\t\t\tstyles.columnPlaceholder,\n\t\t\t\t\t\t\tstyles.columnPlaceholderDark\n\t\t\t\t\t\t),\n\t\t\t\t\tcontentStyle,\n\t\t\t\t\tstyles.columnPlaceholderNotSelected,\n\t\t\t\t] }\n\t\t\t></View>\n\t\t);\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<BlockControls>\n\t\t\t\t<BlockVerticalAlignmentToolbar\n\t\t\t\t\tonChange={ updateAlignment }\n\t\t\t\t\tvalue={ verticalAlignment }\n\t\t\t\t/>\n\t\t\t</BlockControls>\n\t\t\t<View\n\t\t\t\tstyle={ [\n\t\t\t\t\tcontentStyle,\n\t\t\t\t\tisSelected && hasChildren && styles.innerBlocksBottomSpace,\n\t\t\t\t] }\n\t\t\t>\n\t\t\t\t<InnerBlocks\n\t\t\t\t\trenderAppender={\n\t\t\t\t\t\tisSelected && InnerBlocks.ButtonBlockAppender\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t</View>\n\t\t</>\n\t);\n}\n\nfunction ColumnEditWrapper( props ) {\n\tconst { verticalAlignment } = props.attributes;\n\n\tconst getVerticalAlignmentRemap = ( alignment ) => {\n\t\tif ( ! alignment ) return styles.flexBase;\n\t\treturn {\n\t\t\t...styles.flexBase,\n\t\t\t...styles[ `is-vertically-aligned-${ alignment }` ],\n\t\t};\n\t};\n\n\treturn (\n\t\t<View style={ getVerticalAlignmentRemap( verticalAlignment ) }>\n\t\t\t<ColumnEdit { ...props } />\n\t\t</View>\n\t);\n}\n\nexport default compose( [\n\twithSelect( ( select, { clientId } ) => {\n\t\tconst {\n\t\t\tgetBlockCount,\n\t\t\tgetBlockRootClientId,\n\t\t\tgetSelectedBlockClientId,\n\t\t} = select( 'core/block-editor' );\n\n\t\tconst selectedBlockClientId = getSelectedBlockClientId();\n\t\tconst isSelected = selectedBlockClientId === clientId;\n\n\t\tconst parentId = getBlockRootClientId( clientId );\n\t\tconst hasChildren = !! getBlockCount( clientId );\n\n\t\tconst isParentSelected =\n\t\t\tselectedBlockClientId && selectedBlockClientId === parentId;\n\n\t\treturn {\n\t\t\thasChildren,\n\t\t\tisParentSelected,\n\t\t\tisSelected,\n\t\t};\n\t} ),\n\twithPreferredColorScheme,\n] )( ColumnEditWrapper );\n"]}