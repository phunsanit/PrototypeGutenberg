{"version":3,"sources":["@wordpress/components/src/tree-grid/roving-tab-index-item.js"],"names":["RovingTabIndexItem","children","Component","as","props","ref","lastFocusedElement","setLastFocusedElement","tabIndex","current","onFocus","event","target","allProps"],"mappings":";;;;;;;;;AAGA;;;;;;AAKA;;;;;;AAEe,SAASA,kBAAT,OAIX;AAAA,MAHHC,QAGG,QAHHA,QAGG;AAAA,MAFCC,SAED,QAFHC,EAEG;AAAA,MADAC,KACA;AACH,MAAMC,GAAG,GAAG,sBAAZ;;AADG,8BAKC,sDALD;AAAA,MAGFC,kBAHE,yBAGFA,kBAHE;AAAA,MAIFC,qBAJE,yBAIFA,qBAJE;;AAMH,MAAIC,QAAJ;;AAEA,MAAKF,kBAAL,EAA0B;AACzBE,IAAAA,QAAQ,GAAGF,kBAAkB,KAAKD,GAAG,CAACI,OAA3B,GAAqC,CAArC,GAAyC,CAAC,CAArD;AACA;;AAED,MAAMC,OAAO,GAAG,SAAVA,OAAU,CAAEC,KAAF;AAAA,WAAaJ,qBAAqB,CAAEI,KAAK,CAACC,MAAR,CAAlC;AAAA,GAAhB;;AACA,MAAMC,QAAQ;AAAKR,IAAAA,GAAG,EAAHA,GAAL;AAAUG,IAAAA,QAAQ,EAARA,QAAV;AAAoBE,IAAAA,OAAO,EAAPA;AAApB,KAAgCN,KAAhC,CAAd;;AAEA,MAAK,OAAOH,QAAP,KAAoB,UAAzB,EAAsC;AACrC,WAAOA,QAAQ,CAAEY,QAAF,CAAf;AACA;;AAED,SAAO,4BAAC,SAAD,EAAgBA,QAAhB,EAA6BZ,QAA7B,CAAP;AACA","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { useRef } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { useRovingTabIndexContext } from './roving-tab-index-context';\n\nexport default function RovingTabIndexItem( {\n\tchildren,\n\tas: Component,\n\t...props\n} ) {\n\tconst ref = useRef();\n\tconst {\n\t\tlastFocusedElement,\n\t\tsetLastFocusedElement,\n\t} = useRovingTabIndexContext();\n\tlet tabIndex;\n\n\tif ( lastFocusedElement ) {\n\t\ttabIndex = lastFocusedElement === ref.current ? 0 : -1;\n\t}\n\n\tconst onFocus = ( event ) => setLastFocusedElement( event.target );\n\tconst allProps = { ref, tabIndex, onFocus, ...props };\n\n\tif ( typeof children === 'function' ) {\n\t\treturn children( allProps );\n\t}\n\n\treturn <Component { ...allProps }>{ children }</Component>;\n}\n"]}