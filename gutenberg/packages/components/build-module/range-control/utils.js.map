{"version":3,"sources":["@wordpress/components/src/range-control/utils.js"],"names":["clamp","noop","useCallback","useRef","useEffect","useState","useControlledState","floatClamp","value","min","max","parseFloat","useControlledRangeValue","valueProp","setValue","setClampValue","nextValue","useDebouncedHoverInteraction","onShow","onHide","onMouseMove","onMouseLeave","timeout","show","setShow","timeoutRef","setDebouncedTimeout","callback","window","clearTimeout","current","setTimeout","handleOnMouseMove","event","handleOnMouseLeave"],"mappings":"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","sourcesContent":["/**\n * External dependencies\n */\nimport { clamp, noop } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { useCallback, useRef, useEffect, useState } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { useControlledState } from '../utils/hooks';\n\n/**\n * A float supported clamp function for a specific value.\n *\n * @param {number|null} value The value to clamp\n * @param {number} min The minimum value\n * @param {number} max The maxinum value\n *\n * @return {number} A (float) number\n */\nexport function floatClamp( value, min, max ) {\n\tif ( typeof value !== 'number' ) {\n\t\treturn null;\n\t}\n\n\treturn parseFloat( clamp( value, min, max ) );\n}\n\n/**\n * Hook to store a clamped value, derived from props.\n */\nexport function useControlledRangeValue( { min, max, value: valueProp } ) {\n\tconst [ value, setValue ] = useControlledState(\n\t\tfloatClamp( valueProp, min, max )\n\t);\n\n\tconst setClampValue = useCallback(\n\t\t( nextValue ) => {\n\t\t\tif ( nextValue === null ) {\n\t\t\t\tsetValue( null );\n\t\t\t} else {\n\t\t\t\tsetValue( floatClamp( nextValue, min, max ) );\n\t\t\t}\n\t\t},\n\t\t[ min, max ]\n\t);\n\n\treturn [ value, setClampValue ];\n}\n\n/**\n * Hook to encapsulate the debouncing \"hover\" to better handle the showing\n * and hiding of the Tooltip.\n */\nexport function useDebouncedHoverInteraction( {\n\tonShow = noop,\n\tonHide = noop,\n\tonMouseMove = noop,\n\tonMouseLeave = noop,\n\ttimeout = 300,\n} ) {\n\tconst [ show, setShow ] = useState( false );\n\tconst timeoutRef = useRef();\n\n\tconst setDebouncedTimeout = useCallback(\n\t\t( callback ) => {\n\t\t\twindow.clearTimeout( timeoutRef.current );\n\n\t\t\ttimeoutRef.current = setTimeout( callback, timeout );\n\t\t},\n\t\t[ timeout ]\n\t);\n\n\tconst handleOnMouseMove = useCallback( ( event ) => {\n\t\tonMouseMove( event );\n\n\t\tsetDebouncedTimeout( () => {\n\t\t\tif ( ! show ) {\n\t\t\t\tsetShow( true );\n\t\t\t\tonShow();\n\t\t\t}\n\t\t} );\n\t}, [] );\n\n\tconst handleOnMouseLeave = useCallback( ( event ) => {\n\t\tonMouseLeave( event );\n\n\t\tsetDebouncedTimeout( () => {\n\t\t\tsetShow( false );\n\t\t\tonHide();\n\t\t} );\n\t}, [] );\n\n\tuseEffect( () => {\n\t\treturn () => {\n\t\t\twindow.clearTimeout( timeoutRef.current );\n\t\t};\n\t} );\n\n\treturn {\n\t\tonMouseMove: handleOnMouseMove,\n\t\tonMouseLeave: handleOnMouseLeave,\n\t};\n}\n"]}