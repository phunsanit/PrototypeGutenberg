{"version":3,"sources":["@wordpress/components/src/utils/hooks.js"],"names":["useEffect","useRef","useState","useControlledState","initialState","state","setState","lastInitialStateRef","current"],"mappings":";;AAAA;;;AAGA,SAASA,SAAT,EAAoBC,MAApB,EAA4BC,QAA5B,QAA4C,oBAA5C;AAEA;;;;;;;;;;;;;;;;;;;;AAmBA,OAAO,SAASC,kBAAT,CAA6BC,YAA7B,EAA4C;AAAA,kBACtBF,QAAQ,CAAEE,YAAF,CADc;AAAA;AAAA,MAC1CC,KAD0C;AAAA,MACnCC,QADmC;;AAElD,MAAMC,mBAAmB,GAAGN,MAAM,CAAEG,YAAF,CAAlC;AAEAJ,EAAAA,SAAS,CAAE,YAAM;AAChB;AACA,QAAKI,YAAY,KAAKG,mBAAmB,CAACC,OAA1C,EAAoD;AACnDF,MAAAA,QAAQ,CAAEF,YAAF,CAAR;AACAG,MAAAA,mBAAmB,CAACC,OAApB,GAA8BJ,YAA9B;AACA;AACD,GANQ,EAMN,CAAEA,YAAF,CANM,CAAT;AAQA,SAAO,CAAEC,KAAF,EAASC,QAAT,CAAP;AACA","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { useEffect, useRef, useState } from '@wordpress/element';\n\n/**\n * Custom hooks for \"controlled\" components to track and consolidate internal\n * state and incoming values. This is useful for components that render\n * `input`, `textarea`, or `select` HTML elements.\n *\n * https://reactjs.org/docs/forms.html#controlled-components\n *\n * At first, a component using useControlledState receives an initial prop\n * value, which is used as initial internal state.\n *\n * This internal state can be maintained and updated without\n * relying on new incoming prop values.\n *\n * Unlike the basic useState hook, useControlledState's state can\n * be updated if a new incoming prop value is changed.\n *\n * @param {any} initialState The initial state value.\n * @return {[*, Function]} The controlled value and the value setter.\n */\nexport function useControlledState( initialState ) {\n\tconst [ state, setState ] = useState( initialState );\n\tconst lastInitialStateRef = useRef( initialState );\n\n\tuseEffect( () => {\n\t\t// Update the internal state if the incoming value changes.\n\t\tif ( initialState !== lastInitialStateRef.current ) {\n\t\t\tsetState( initialState );\n\t\t\tlastInitialStateRef.current = initialState;\n\t\t}\n\t}, [ initialState ] );\n\n\treturn [ state, setState ];\n}\n"]}