{"version":3,"sources":["@wordpress/components/src/mobile/gradient/index.native.js"],"names":["View","Platform","RNLinearGradient","colorsUtils","RadialGradient","Stop","SVG","Defs","Rect","useResizeObserver","styles","Gradient","gradientValue","style","angleCenter","x","y","otherProps","resizeObserver","sizes","width","height","isGradient","getGradientType","gradients","isLinearGradient","linear","matchColorGroup","matchDeg","colorGroup","match","map","color","split","colors","locations","location","Number","replace","angle","exec","overflow","OS","group"],"mappings":"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","sourcesContent":["/**\n * External dependencies\n */\nimport { View, Platform } from 'react-native';\nimport RNLinearGradient from 'react-native-linear-gradient';\n/**\n * WordPress dependencies\n */\nimport { colorsUtils } from '@wordpress/components';\nimport { RadialGradient, Stop, SVG, Defs, Rect } from '@wordpress/primitives';\nimport { useResizeObserver } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport styles from './style.scss';\n\nfunction Gradient( {\n\tgradientValue,\n\tstyle,\n\tangleCenter = { x: 0.5, y: 0.5 },\n\t...otherProps\n} ) {\n\tconst [ resizeObserver, sizes ] = useResizeObserver();\n\tconst { width = 0, height = 0 } = sizes || {};\n\tconst { isGradient, getGradientType, gradients } = colorsUtils;\n\n\tif ( ! gradientValue || ! isGradient( gradientValue ) ) {\n\t\treturn null;\n\t}\n\n\tconst isLinearGradient =\n\t\tgetGradientType( gradientValue ) === gradients.linear;\n\n\tconst matchColorGroup = /(rgba|rgb|#)(.+?)[\\%]/g;\n\tconst matchDeg = /(\\d.+)deg/g;\n\n\tconst colorGroup = gradientValue\n\t\t.match( matchColorGroup )\n\t\t.map( ( color ) => color.split( ' ' ) );\n\n\tconst colors = colorGroup.map( ( color ) => color[ 0 ] );\n\tconst locations = colorGroup.map(\n\t\t( location ) => Number( location[ 1 ].replace( '%', '' ) ) / 100\n\t);\n\n\tconst angle =\n\t\tisLinearGradient && Number( matchDeg.exec( gradientValue )[ 1 ] );\n\n\tif ( isLinearGradient ) {\n\t\treturn (\n\t\t\t<RNLinearGradient\n\t\t\t\tcolors={ colors }\n\t\t\t\tuseAngle={ true }\n\t\t\t\tangle={ angle }\n\t\t\t\tlocations={ locations }\n\t\t\t\tangleCenter={ angleCenter }\n\t\t\t\tstyle={ style }\n\t\t\t\t{ ...otherProps }\n\t\t\t/>\n\t\t);\n\t}\n\n\treturn (\n\t\t<View style={ [ style, styles.overflow ] }>\n\t\t\t{ resizeObserver }\n\t\t\t<SVG>\n\t\t\t\t<Defs>\n\t\t\t\t\t<RadialGradient\n\t\t\t\t\t\t//eslint-disable-next-line no-restricted-syntax\n\t\t\t\t\t\tid=\"radialGradient\"\n\t\t\t\t\t\tgradientUnits=\"userSpaceOnUse\"\n\t\t\t\t\t\trx=\"70%\"\n\t\t\t\t\t\try=\"70%\"\n\t\t\t\t\t\tcy={ Platform.OS === 'android' ? width / 2 : '50%' }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ colorGroup.map( ( group ) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<Stop\n\t\t\t\t\t\t\t\t\toffset={ group[ 1 ] }\n\t\t\t\t\t\t\t\t\tstopColor={ group[ 0 ] }\n\t\t\t\t\t\t\t\t\tstopOpacity=\"1\"\n\t\t\t\t\t\t\t\t\tkey={ `${ group[ 1 ] }-${ group[ 0 ] }` }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} ) }\n\t\t\t\t\t</RadialGradient>\n\t\t\t\t</Defs>\n\t\t\t\t<Rect\n\t\t\t\t\theight={ height }\n\t\t\t\t\twidth={ width }\n\t\t\t\t\tfill=\"url(#radialGradient)\"\n\t\t\t\t/>\n\t\t\t</SVG>\n\t\t</View>\n\t);\n}\n\nexport default Gradient;\n"]}