{"version":3,"sources":["@wordpress/edit-site/src/components/header/feature-toggle/index.js"],"names":["FeatureToggle","feature","label","info","messageActivated","messageDeactivated","speak","speakMessage","isActive","select","isFeatureActive","toggleFeature","check","bind"],"mappings":";;;;;;;;;AAGA;;AAKA;;AACA;;AACA;;AACA;;AAXA;;;;AAKA;;;AAQA,SAASA,aAAT,OAOI;AAAA,MANHC,OAMG,QANHA,OAMG;AAAA,MALHC,KAKG,QALHA,KAKG;AAAA,MAJHC,IAIG,QAJHA,IAIG;AAAA,MAHHC,gBAGG,QAHHA,gBAGG;AAAA,MAFHC,kBAEG,QAFHA,kBAEG;AAAA,MADHC,KACG,QADHA,KACG;;AACH,MAAMC,YAAY,GAAG,SAAfA,YAAe,GAAM;AAC1B,QAAKC,QAAL,EAAgB;AACfF,MAAAA,KAAK,CAAED,kBAAkB,IAAI,cAAI,qBAAJ,CAAxB,CAAL;AACA,KAFD,MAEO;AACNC,MAAAA,KAAK,CAAEF,gBAAgB,IAAI,cAAI,mBAAJ,CAAtB,CAAL;AACA;AACD,GAND;;AAQA,MAAMI,QAAQ,GAAG,qBAAW,UAAEC,MAAF,EAAc;AACzC,WAAOA,MAAM,CAAE,gBAAF,CAAN,CAA2BC,eAA3B,CAA4CT,OAA5C,CAAP;AACA,GAFgB,EAEd,EAFc,CAAjB;;AATG,qBAauB,uBAAa,gBAAb,CAbvB;AAAA,MAaKU,aAbL,gBAaKA,aAbL;;AAeH,SACC,4BAAC,oBAAD;AACC,IAAA,IAAI,EAAGH,QAAQ,IAAII,YADpB;AAEC,IAAA,UAAU,EAAGJ,QAFd;AAGC,IAAA,OAAO,EAAG,kBACTG,aAAa,CAACE,IAAd,CAAoB,IAApB,EAA0BZ,OAA1B,CADS,EAETM,YAFS,CAHX;AAOC,IAAA,IAAI,EAAC,kBAPN;AAQC,IAAA,IAAI,EAAGJ;AARR,KAUGD,KAVH,CADD;AAcA;;eAEc,oCAAoBF,aAApB,C","sourcesContent":["/**\n * External dependencies\n */\nimport { flow } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { MenuItem, withSpokenMessages } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { check } from '@wordpress/icons';\n\nfunction FeatureToggle( {\n\tfeature,\n\tlabel,\n\tinfo,\n\tmessageActivated,\n\tmessageDeactivated,\n\tspeak,\n} ) {\n\tconst speakMessage = () => {\n\t\tif ( isActive ) {\n\t\t\tspeak( messageDeactivated || __( 'Feature deactivated' ) );\n\t\t} else {\n\t\t\tspeak( messageActivated || __( 'Feature activated' ) );\n\t\t}\n\t};\n\n\tconst isActive = useSelect( ( select ) => {\n\t\treturn select( 'core/edit-site' ).isFeatureActive( feature );\n\t}, [] );\n\n\tconst { toggleFeature } = useDispatch( 'core/edit-site' );\n\n\treturn (\n\t\t<MenuItem\n\t\t\ticon={ isActive && check }\n\t\t\tisSelected={ isActive }\n\t\t\tonClick={ flow(\n\t\t\t\ttoggleFeature.bind( null, feature ),\n\t\t\t\tspeakMessage\n\t\t\t) }\n\t\t\trole=\"menuitemcheckbox\"\n\t\t\tinfo={ info }\n\t\t>\n\t\t\t{ label }\n\t\t</MenuItem>\n\t);\n}\n\nexport default withSpokenMessages( FeatureToggle );\n"]}