{"version":3,"sources":["@wordpress/edit-site/src/store/reducer.js"],"names":["createWithInitialState","initialState","reducer","state","action","preferences","combineReducers","PREFERENCES_DEFAULTS","features","type","feature","deviceType"],"mappings":";;;;;;;;;;;;AAGA;;AAKA;;AAKA;;;;;;AAEA;;;;;;;;AAQA,IAAMA,sBAAsB,GAAG,SAAzBA,sBAAyB,CAAEC,YAAF;AAAA,SAAoB,UAAEC,OAAF,EAAe;AACjE,WAAO;AAAA,UAAEC,KAAF,uEAAUF,YAAV;AAAA,UAAwBG,MAAxB;AAAA,aAAoCF,OAAO,CAAEC,KAAF,EAASC,MAAT,CAA3C;AAAA,KAAP;AACA,GAF8B;AAAA,CAA/B;AAIA;;;;;;;;;AAOO,IAAMC,WAAW,GAAG,kBAAM,CAChCC,qBADgC,EAEhCN,sBAAsB,CAAEO,8BAAF,CAFU,CAAN,EAGtB;AACJC,EAAAA,QADI,oBACML,KADN,EACaC,MADb,EACsB;AACzB,QAAKA,MAAM,CAACK,IAAP,KAAgB,gBAArB,EAAwC;AACvC,+BACIN,KADJ,oCAEGC,MAAM,CAACM,OAFV,EAEqB,CAAEP,KAAK,CAAEC,MAAM,CAACM,OAAT,CAF5B;AAIA;;AAED,WAAOP,KAAP;AACA;AAVG,CAHsB,CAApB;AAgBP;;;;;;;;;;;AAQO,SAASQ,UAAT,GAAiD;AAAA,MAA5BR,KAA4B,uEAApB,SAAoB;AAAA,MAATC,MAAS;;AACvD,UAASA,MAAM,CAACK,IAAhB;AACC,SAAK,yBAAL;AACC,aAAOL,MAAM,CAACO,UAAd;AAFF;;AAKA,SAAOR,KAAP;AACA;;eAEc,2BAAiB;AAC/BE,EAAAA,WAAW,EAAXA,WAD+B;AAE/BM,EAAAA,UAAU,EAAVA;AAF+B,CAAjB,C","sourcesContent":["/**\n * External dependencies\n */\nimport { flow } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { combineReducers } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { PREFERENCES_DEFAULTS } from './defaults';\n\n/**\n * Higher-order reducer creator which provides the given initial state for the\n * original reducer.\n *\n * @param {*} initialState Initial state to provide to reducer.\n *\n * @return {Function} Higher-order reducer.\n */\nconst createWithInitialState = ( initialState ) => ( reducer ) => {\n\treturn ( state = initialState, action ) => reducer( state, action );\n};\n\n/**\n * Reducer returning the user preferences.\n *\n * @param {Object}  state Current state.\n *\n * @return {Object} Updated state.\n */\nexport const preferences = flow( [\n\tcombineReducers,\n\tcreateWithInitialState( PREFERENCES_DEFAULTS ),\n] )( {\n\tfeatures( state, action ) {\n\t\tif ( action.type === 'TOGGLE_FEATURE' ) {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t[ action.feature ]: ! state[ action.feature ],\n\t\t\t};\n\t\t}\n\n\t\treturn state;\n\t},\n} );\n\n/**\n * Reducer returning the editing canvas device type.\n *\n * @param {Object} state  Current state.\n * @param {Object} action Dispatched action.\n *\n * @return {Object} Updated state.\n */\nexport function deviceType( state = 'Desktop', action ) {\n\tswitch ( action.type ) {\n\t\tcase 'SET_PREVIEW_DEVICE_TYPE':\n\t\t\treturn action.deviceType;\n\t}\n\n\treturn state;\n}\n\nexport default combineReducers( {\n\tpreferences,\n\tdeviceType,\n} );\n"]}