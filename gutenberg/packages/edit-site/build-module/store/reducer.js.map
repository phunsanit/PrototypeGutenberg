{"version":3,"sources":["@wordpress/edit-site/src/store/reducer.js"],"names":["flow","combineReducers","PREFERENCES_DEFAULTS","createWithInitialState","initialState","reducer","state","action","preferences","features","type","feature","deviceType"],"mappings":";;;;;;AAAA;;;AAGA,SAASA,IAAT,QAAqB,QAArB;AAEA;;;;AAGA,SAASC,eAAT,QAAgC,iBAAhC;AAEA;;;;AAGA,SAASC,oBAAT,QAAqC,YAArC;AAEA;;;;;;;;;AAQA,IAAMC,sBAAsB,GAAG,SAAzBA,sBAAyB,CAAEC,YAAF;AAAA,SAAoB,UAAEC,OAAF,EAAe;AACjE,WAAO;AAAA,UAAEC,KAAF,uEAAUF,YAAV;AAAA,UAAwBG,MAAxB;AAAA,aAAoCF,OAAO,CAAEC,KAAF,EAASC,MAAT,CAA3C;AAAA,KAAP;AACA,GAF8B;AAAA,CAA/B;AAIA;;;;;;;;;AAOA,OAAO,IAAMC,WAAW,GAAGR,IAAI,CAAE,CAChCC,eADgC,EAEhCE,sBAAsB,CAAED,oBAAF,CAFU,CAAF,CAAJ,CAGtB;AACJO,EAAAA,QADI,oBACMH,KADN,EACaC,MADb,EACsB;AACzB,QAAKA,MAAM,CAACG,IAAP,KAAgB,gBAArB,EAAwC;AACvC,+BACIJ,KADJ,sBAEGC,MAAM,CAACI,OAFV,EAEqB,CAAEL,KAAK,CAAEC,MAAM,CAACI,OAAT,CAF5B;AAIA;;AAED,WAAOL,KAAP;AACA;AAVG,CAHsB,CAApB;AAgBP;;;;;;;;;AAQA,OAAO,SAASM,UAAT,GAAiD;AAAA,MAA5BN,KAA4B,uEAApB,SAAoB;AAAA,MAATC,MAAS;;AACvD,UAASA,MAAM,CAACG,IAAhB;AACC,SAAK,yBAAL;AACC,aAAOH,MAAM,CAACK,UAAd;AAFF;;AAKA,SAAON,KAAP;AACA;AAED,eAAeL,eAAe,CAAE;AAC/BO,EAAAA,WAAW,EAAXA,WAD+B;AAE/BI,EAAAA,UAAU,EAAVA;AAF+B,CAAF,CAA9B","sourcesContent":["/**\n * External dependencies\n */\nimport { flow } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { combineReducers } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { PREFERENCES_DEFAULTS } from './defaults';\n\n/**\n * Higher-order reducer creator which provides the given initial state for the\n * original reducer.\n *\n * @param {*} initialState Initial state to provide to reducer.\n *\n * @return {Function} Higher-order reducer.\n */\nconst createWithInitialState = ( initialState ) => ( reducer ) => {\n\treturn ( state = initialState, action ) => reducer( state, action );\n};\n\n/**\n * Reducer returning the user preferences.\n *\n * @param {Object}  state Current state.\n *\n * @return {Object} Updated state.\n */\nexport const preferences = flow( [\n\tcombineReducers,\n\tcreateWithInitialState( PREFERENCES_DEFAULTS ),\n] )( {\n\tfeatures( state, action ) {\n\t\tif ( action.type === 'TOGGLE_FEATURE' ) {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t[ action.feature ]: ! state[ action.feature ],\n\t\t\t};\n\t\t}\n\n\t\treturn state;\n\t},\n} );\n\n/**\n * Reducer returning the editing canvas device type.\n *\n * @param {Object} state  Current state.\n * @param {Object} action Dispatched action.\n *\n * @return {Object} Updated state.\n */\nexport function deviceType( state = 'Desktop', action ) {\n\tswitch ( action.type ) {\n\t\tcase 'SET_PREVIEW_DEVICE_TYPE':\n\t\t\treturn action.deviceType;\n\t}\n\n\treturn state;\n}\n\nexport default combineReducers( {\n\tpreferences,\n\tdeviceType,\n} );\n"]}