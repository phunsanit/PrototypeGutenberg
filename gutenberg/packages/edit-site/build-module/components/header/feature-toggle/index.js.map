{"version":3,"sources":["@wordpress/edit-site/src/components/header/feature-toggle/index.js"],"names":["flow","useSelect","useDispatch","MenuItem","withSpokenMessages","__","check","FeatureToggle","feature","label","info","messageActivated","messageDeactivated","speak","speakMessage","isActive","select","isFeatureActive","toggleFeature","bind"],"mappings":";;AAAA;;;AAGA,SAASA,IAAT,QAAqB,QAArB;AAEA;;;;AAGA,SAASC,SAAT,EAAoBC,WAApB,QAAuC,iBAAvC;AACA,SAASC,QAAT,EAAmBC,kBAAnB,QAA6C,uBAA7C;AACA,SAASC,EAAT,QAAmB,iBAAnB;AACA,SAASC,KAAT,QAAsB,kBAAtB;;AAEA,SAASC,aAAT,OAOI;AAAA,MANHC,OAMG,QANHA,OAMG;AAAA,MALHC,KAKG,QALHA,KAKG;AAAA,MAJHC,IAIG,QAJHA,IAIG;AAAA,MAHHC,gBAGG,QAHHA,gBAGG;AAAA,MAFHC,kBAEG,QAFHA,kBAEG;AAAA,MADHC,KACG,QADHA,KACG;;AACH,MAAMC,YAAY,GAAG,SAAfA,YAAe,GAAM;AAC1B,QAAKC,QAAL,EAAgB;AACfF,MAAAA,KAAK,CAAED,kBAAkB,IAAIP,EAAE,CAAE,qBAAF,CAA1B,CAAL;AACA,KAFD,MAEO;AACNQ,MAAAA,KAAK,CAAEF,gBAAgB,IAAIN,EAAE,CAAE,mBAAF,CAAxB,CAAL;AACA;AACD,GAND;;AAQA,MAAMU,QAAQ,GAAGd,SAAS,CAAE,UAAEe,MAAF,EAAc;AACzC,WAAOA,MAAM,CAAE,gBAAF,CAAN,CAA2BC,eAA3B,CAA4CT,OAA5C,CAAP;AACA,GAFyB,EAEvB,EAFuB,CAA1B;;AATG,qBAauBN,WAAW,CAAE,gBAAF,CAblC;AAAA,MAaKgB,aAbL,gBAaKA,aAbL;;AAeH,SACC,cAAC,QAAD;AACC,IAAA,IAAI,EAAGH,QAAQ,IAAIT,KADpB;AAEC,IAAA,UAAU,EAAGS,QAFd;AAGC,IAAA,OAAO,EAAGf,IAAI,CACbkB,aAAa,CAACC,IAAd,CAAoB,IAApB,EAA0BX,OAA1B,CADa,EAEbM,YAFa,CAHf;AAOC,IAAA,IAAI,EAAC,kBAPN;AAQC,IAAA,IAAI,EAAGJ;AARR,KAUGD,KAVH,CADD;AAcA;;AAED,eAAeL,kBAAkB,CAAEG,aAAF,CAAjC","sourcesContent":["/**\n * External dependencies\n */\nimport { flow } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { MenuItem, withSpokenMessages } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { check } from '@wordpress/icons';\n\nfunction FeatureToggle( {\n\tfeature,\n\tlabel,\n\tinfo,\n\tmessageActivated,\n\tmessageDeactivated,\n\tspeak,\n} ) {\n\tconst speakMessage = () => {\n\t\tif ( isActive ) {\n\t\t\tspeak( messageDeactivated || __( 'Feature deactivated' ) );\n\t\t} else {\n\t\t\tspeak( messageActivated || __( 'Feature activated' ) );\n\t\t}\n\t};\n\n\tconst isActive = useSelect( ( select ) => {\n\t\treturn select( 'core/edit-site' ).isFeatureActive( feature );\n\t}, [] );\n\n\tconst { toggleFeature } = useDispatch( 'core/edit-site' );\n\n\treturn (\n\t\t<MenuItem\n\t\t\ticon={ isActive && check }\n\t\t\tisSelected={ isActive }\n\t\t\tonClick={ flow(\n\t\t\t\ttoggleFeature.bind( null, feature ),\n\t\t\t\tspeakMessage\n\t\t\t) }\n\t\t\trole=\"menuitemcheckbox\"\n\t\t\tinfo={ info }\n\t\t>\n\t\t\t{ label }\n\t\t</MenuItem>\n\t);\n}\n\nexport default withSpokenMessages( FeatureToggle );\n"]}