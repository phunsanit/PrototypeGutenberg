{"version":3,"sources":["@wordpress/block-editor/src/components/block-mobile-toolbar/index.native.js"],"names":["View","withDispatch","withSelect","compose","styles","BlockMover","BlockActionsMenu","BlockSettingsButton","BREAKPOINTS","wrapSettings","wrapMover","BlockMobileToolbar","clientId","onDelete","isStackedHorizontally","blockWidth","anchorNodeRef","wrapBlockSettings","wrapBlockMover","toolbar","spacer","fills","select","getBlockIndex","order","dispatch","rootClientId","removeBlock"],"mappings":";;AAAA;;;AAGA,SAASA,IAAT,QAAqB,cAArB;AAEA;;;;AAGA,SAASC,YAAT,EAAuBC,UAAvB,QAAyC,iBAAzC;AACA,SAASC,OAAT,QAAwB,oBAAxB;AAEA;;;;AAGA,OAAOC,MAAP,MAAmB,cAAnB;AACA,OAAOC,UAAP,MAAuB,gBAAvB;AACA,OAAOC,gBAAP,MAA6B,sBAA7B;AACA,SAASC,mBAAT,QAAoC,mBAApC,C,CAEA;AACA;AACA;;AACA,IAAMC,WAAW,GAAG;AACnBC,EAAAA,YAAY,EAAE,EADK;AAEnBC,EAAAA,SAAS,EAAE;AAFQ,CAApB;;AAIA,IAAMC,kBAAkB,GAAG,SAArBA,kBAAqB,OAMpB;AAAA,MALNC,QAKM,QALNA,QAKM;AAAA,MAJNC,QAIM,QAJNA,QAIM;AAAA,MAHNC,qBAGM,QAHNA,qBAGM;AAAA,MAFNC,UAEM,QAFNA,UAEM;AAAA,MADNC,aACM,QADNA,aACM;AACN,MAAMC,iBAAiB,GAAGF,UAAU,GAAGP,WAAW,CAACC,YAAnD;AACA,MAAMS,cAAc,GAAGH,UAAU,IAAIP,WAAW,CAACE,SAAjD;AAEA,SACC,cAAC,IAAD;AAAM,IAAA,KAAK,EAAGN,MAAM,CAACe;AAArB,KACG,CAAED,cAAF,IACD,cAAC,UAAD;AACC,IAAA,SAAS,EAAG,CAAEN,QAAF,CADb;AAEC,IAAA,qBAAqB,EAAGE;AAFzB,IAFF,EAQC,cAAC,IAAD;AAAM,IAAA,KAAK,EAAGV,MAAM,CAACgB;AAArB,IARD,EAUG,CAAEH,iBAAF,IACD,cAAC,mBAAD,CAAqB,IAArB,QAEG;AAAA,QAAEI,KAAF,uEAAU,CAAE,IAAF,CAAV;AAAA,WAAwBA,KAAK,CAAE,CAAF,CAA7B;AAAA,GAFH,CAXF,EAiBC,cAAC,gBAAD;AACC,IAAA,SAAS,EAAG,CAAET,QAAF,CADb;AAEC,IAAA,cAAc,EAAGM,cAFlB;AAGC,IAAA,iBAAiB,EAAGD,iBAHrB;AAIC,IAAA,qBAAqB,EAAGH,qBAJzB;AAKC,IAAA,QAAQ,EAAGD,QALZ;AAMC,IAAA,aAAa,EAAGG;AANjB,IAjBD,CADD;AA4BA,CAtCD;;AAwCA,eAAeb,OAAO,CACrBD,UAAU,CAAE,UAAEoB,MAAF,SAA4B;AAAA,MAAhBV,QAAgB,SAAhBA,QAAgB;;AAAA,gBACbU,MAAM,CAAE,mBAAF,CADO;AAAA,MAC/BC,aAD+B,WAC/BA,aAD+B;;AAGvC,SAAO;AACNC,IAAAA,KAAK,EAAED,aAAa,CAAEX,QAAF;AADd,GAAP;AAGA,CANS,CADW,EAQrBX,YAAY,CAAE,UAAEwB,QAAF,SAAsD;AAAA,MAAxCb,QAAwC,SAAxCA,QAAwC;AAAA,MAA9Bc,YAA8B,SAA9BA,YAA8B;AAAA,MAAhBb,QAAgB,SAAhBA,QAAgB;;AAAA,kBAC3CY,QAAQ,CAAE,mBAAF,CADmC;AAAA,MAC3DE,WAD2D,aAC3DA,WAD2D;;AAEnE,SAAO;AACNd,IAAAA,QAAQ,EACPA,QAAQ,IAAM;AAAA,aAAMc,WAAW,CAAEf,QAAF,EAAYc,YAAZ,CAAjB;AAAA;AAFT,GAAP;AAIA,CANW,CARS,CAAP,CAeZf,kBAfY,CAAf","sourcesContent":["/**\n * External dependencies\n */\nimport { View } from 'react-native';\n\n/**\n * WordPress dependencies\n */\nimport { withDispatch, withSelect } from '@wordpress/data';\nimport { compose } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport styles from './style.scss';\nimport BlockMover from '../block-mover';\nimport BlockActionsMenu from './block-actions-menu';\nimport { BlockSettingsButton } from '../block-settings';\n\n// Defined breakpoints are used to get a point when\n// `settings` and `mover` controls should be wrapped into `BlockActionsMenu`\n// and accessed through `BottomSheet`(Android)/`ActionSheet`(iOS).\nconst BREAKPOINTS = {\n\twrapSettings: 65,\n\twrapMover: 150,\n};\nconst BlockMobileToolbar = ( {\n\tclientId,\n\tonDelete,\n\tisStackedHorizontally,\n\tblockWidth,\n\tanchorNodeRef,\n} ) => {\n\tconst wrapBlockSettings = blockWidth < BREAKPOINTS.wrapSettings;\n\tconst wrapBlockMover = blockWidth <= BREAKPOINTS.wrapMover;\n\n\treturn (\n\t\t<View style={ styles.toolbar }>\n\t\t\t{ ! wrapBlockMover && (\n\t\t\t\t<BlockMover\n\t\t\t\t\tclientIds={ [ clientId ] }\n\t\t\t\t\tisStackedHorizontally={ isStackedHorizontally }\n\t\t\t\t/>\n\t\t\t) }\n\n\t\t\t<View style={ styles.spacer } />\n\n\t\t\t{ ! wrapBlockSettings && (\n\t\t\t\t<BlockSettingsButton.Slot>\n\t\t\t\t\t{ /* Render only one settings icon even if we have more than one fill - need for hooks with controls */ }\n\t\t\t\t\t{ ( fills = [ null ] ) => fills[ 0 ] }\n\t\t\t\t</BlockSettingsButton.Slot>\n\t\t\t) }\n\n\t\t\t<BlockActionsMenu\n\t\t\t\tclientIds={ [ clientId ] }\n\t\t\t\twrapBlockMover={ wrapBlockMover }\n\t\t\t\twrapBlockSettings={ wrapBlockSettings }\n\t\t\t\tisStackedHorizontally={ isStackedHorizontally }\n\t\t\t\tonDelete={ onDelete }\n\t\t\t\tanchorNodeRef={ anchorNodeRef }\n\t\t\t/>\n\t\t</View>\n\t);\n};\n\nexport default compose(\n\twithSelect( ( select, { clientId } ) => {\n\t\tconst { getBlockIndex } = select( 'core/block-editor' );\n\n\t\treturn {\n\t\t\torder: getBlockIndex( clientId ),\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch, { clientId, rootClientId, onDelete } ) => {\n\t\tconst { removeBlock } = dispatch( 'core/block-editor' );\n\t\treturn {\n\t\t\tonDelete:\n\t\t\t\tonDelete || ( () => removeBlock( clientId, rootClientId ) ),\n\t\t};\n\t} )\n)( BlockMobileToolbar );\n"]}