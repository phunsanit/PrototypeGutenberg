{"version":3,"sources":["@wordpress/block-editor/src/components/block-navigation/index.js"],"names":["noop","withSelect","withDispatch","compose","__","BlockNavigationTree","BlockNavigation","rootBlock","rootBlocks","selectedBlockClientId","selectBlock","__experimentalWithBlockNavigationSlots","__experimentalWithBlockNavigationBlockSettings","__experimentalWithBlockNavigationBlockSettingsMinLevel","length","hasHierarchy","clientId","innerBlocks","select","getSelectedBlockClientId","getBlockHierarchyRootClientId","getBlock","getBlocks","dispatch","onSelect"],"mappings":";;AAAA;;;AAGA,SAASA,IAAT,QAAqB,QAArB;AAEA;;;;AAGA,SAASC,UAAT,EAAqBC,YAArB,QAAyC,iBAAzC;AACA,SAASC,OAAT,QAAwB,oBAAxB;AACA,SAASC,EAAT,QAAmB,iBAAnB;AAEA;;;;AAGA,OAAOC,mBAAP,MAAgC,QAAhC;;AAEA,SAASC,eAAT,OAQI;AAAA,MAPHC,SAOG,QAPHA,SAOG;AAAA,MANHC,UAMG,QANHA,UAMG;AAAA,MALHC,qBAKG,QALHA,qBAKG;AAAA,MAJHC,WAIG,QAJHA,WAIG;AAAA,MAHHC,sCAGG,QAHHA,sCAGG;AAAA,MAFHC,8CAEG,QAFHA,8CAEG;AAAA,MADHC,sDACG,QADHA,sDACG;;AACH,MAAK,CAAEL,UAAF,IAAgBA,UAAU,CAACM,MAAX,KAAsB,CAA3C,EAA+C;AAC9C,WAAO,IAAP;AACA;;AAED,MAAMC,YAAY,GACjBR,SAAS,KACPA,SAAS,CAACS,QAAV,KAAuBP,qBAAvB,IACCF,SAAS,CAACU,WAAV,IAAyBV,SAAS,CAACU,WAAV,CAAsBH,MAAtB,KAAiC,CAFpD,CADV;AAKA,SACC;AAAK,IAAA,SAAS,EAAC;AAAf,KACC;AAAG,IAAA,SAAS,EAAC;AAAb,KACGV,EAAE,CAAE,kBAAF,CADL,CADD,EAIGW,YAAY,IACb,cAAC,mBAAD;AACC,IAAA,MAAM,EAAG,CAAER,SAAF,CADV;AAEC,IAAA,qBAAqB,EAAGE,qBAFzB;AAGC,IAAA,WAAW,EAAGC,WAHf;AAIC,IAAA,8CAA8C,EAC7CE,8CALF;AAOC,IAAA,sDAAsD,EACrDC,sDARF;AAUC,IAAA,sCAAsC,EACrCF,sCAXF;AAaC,IAAA,gBAAgB;AAbjB,IALF,EAqBG,CAAEI,YAAF,IACD,cAAC,mBAAD;AACC,IAAA,MAAM,EAAGP,UADV;AAEC,IAAA,qBAAqB,EAAGC,qBAFzB;AAGC,IAAA,WAAW,EAAGC,WAHf;AAIC,IAAA,8CAA8C,EAC7CE,8CALF;AAOC,IAAA,sDAAsD,EACrDC,sDARF;AAUC,IAAA,sCAAsC,EACrCF;AAXF,IAtBF,CADD;AAwCA;;AAED,eAAeR,OAAO,CACrBF,UAAU,CAAE,UAAEiB,MAAF,EAAc;AAAA,gBAMrBA,MAAM,CAAE,mBAAF,CANe;AAAA,MAExBC,wBAFwB,WAExBA,wBAFwB;AAAA,MAGxBC,6BAHwB,WAGxBA,6BAHwB;AAAA,MAIxBC,QAJwB,WAIxBA,QAJwB;AAAA,MAKxBC,SALwB,WAKxBA,SALwB;;AAOzB,MAAMb,qBAAqB,GAAGU,wBAAwB,EAAtD;AACA,SAAO;AACNX,IAAAA,UAAU,EAAEc,SAAS,EADf;AAENf,IAAAA,SAAS,EAAEE,qBAAqB,GAC7BY,QAAQ,CACRD,6BAA6B,CAAEX,qBAAF,CADrB,CADqB,GAI7B,IANG;AAONA,IAAAA,qBAAqB,EAArBA;AAPM,GAAP;AASA,CAjBS,CADW,EAmBrBP,YAAY,CAAE,UAAEqB,QAAF,SAAqC;AAAA,6BAAvBC,QAAuB;AAAA,MAAvBA,QAAuB,+BAAZxB,IAAY;AAClD,SAAO;AACNU,IAAAA,WADM,uBACOM,QADP,EACkB;AACvBO,MAAAA,QAAQ,CAAE,mBAAF,CAAR,CAAgCb,WAAhC,CAA6CM,QAA7C;AACAQ,MAAAA,QAAQ,CAAER,QAAF,CAAR;AACA;AAJK,GAAP;AAMA,CAPW,CAnBS,CAAP,CA2BZV,eA3BY,CAAf","sourcesContent":["/**\n * External dependencies\n */\nimport { noop } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { withSelect, withDispatch } from '@wordpress/data';\nimport { compose } from '@wordpress/compose';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport BlockNavigationTree from './tree';\n\nfunction BlockNavigation( {\n\trootBlock,\n\trootBlocks,\n\tselectedBlockClientId,\n\tselectBlock,\n\t__experimentalWithBlockNavigationSlots,\n\t__experimentalWithBlockNavigationBlockSettings,\n\t__experimentalWithBlockNavigationBlockSettingsMinLevel,\n} ) {\n\tif ( ! rootBlocks || rootBlocks.length === 0 ) {\n\t\treturn null;\n\t}\n\n\tconst hasHierarchy =\n\t\trootBlock &&\n\t\t( rootBlock.clientId !== selectedBlockClientId ||\n\t\t\t( rootBlock.innerBlocks && rootBlock.innerBlocks.length !== 0 ) );\n\n\treturn (\n\t\t<div className=\"block-editor-block-navigation__container\">\n\t\t\t<p className=\"block-editor-block-navigation__label\">\n\t\t\t\t{ __( 'Block navigation' ) }\n\t\t\t</p>\n\t\t\t{ hasHierarchy && (\n\t\t\t\t<BlockNavigationTree\n\t\t\t\t\tblocks={ [ rootBlock ] }\n\t\t\t\t\tselectedBlockClientId={ selectedBlockClientId }\n\t\t\t\t\tselectBlock={ selectBlock }\n\t\t\t\t\t__experimentalWithBlockNavigationBlockSettings={\n\t\t\t\t\t\t__experimentalWithBlockNavigationBlockSettings\n\t\t\t\t\t}\n\t\t\t\t\t__experimentalWithBlockNavigationBlockSettingsMinLevel={\n\t\t\t\t\t\t__experimentalWithBlockNavigationBlockSettingsMinLevel\n\t\t\t\t\t}\n\t\t\t\t\t__experimentalWithBlockNavigationSlots={\n\t\t\t\t\t\t__experimentalWithBlockNavigationSlots\n\t\t\t\t\t}\n\t\t\t\t\tshowNestedBlocks\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t{ ! hasHierarchy && (\n\t\t\t\t<BlockNavigationTree\n\t\t\t\t\tblocks={ rootBlocks }\n\t\t\t\t\tselectedBlockClientId={ selectedBlockClientId }\n\t\t\t\t\tselectBlock={ selectBlock }\n\t\t\t\t\t__experimentalWithBlockNavigationBlockSettings={\n\t\t\t\t\t\t__experimentalWithBlockNavigationBlockSettings\n\t\t\t\t\t}\n\t\t\t\t\t__experimentalWithBlockNavigationBlockSettingsMinLevel={\n\t\t\t\t\t\t__experimentalWithBlockNavigationBlockSettingsMinLevel\n\t\t\t\t\t}\n\t\t\t\t\t__experimentalWithBlockNavigationSlots={\n\t\t\t\t\t\t__experimentalWithBlockNavigationSlots\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t) }\n\t\t</div>\n\t);\n}\n\nexport default compose(\n\twithSelect( ( select ) => {\n\t\tconst {\n\t\t\tgetSelectedBlockClientId,\n\t\t\tgetBlockHierarchyRootClientId,\n\t\t\tgetBlock,\n\t\t\tgetBlocks,\n\t\t} = select( 'core/block-editor' );\n\t\tconst selectedBlockClientId = getSelectedBlockClientId();\n\t\treturn {\n\t\t\trootBlocks: getBlocks(),\n\t\t\trootBlock: selectedBlockClientId\n\t\t\t\t? getBlock(\n\t\t\t\t\t\tgetBlockHierarchyRootClientId( selectedBlockClientId )\n\t\t\t\t  )\n\t\t\t\t: null,\n\t\t\tselectedBlockClientId,\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch, { onSelect = noop } ) => {\n\t\treturn {\n\t\t\tselectBlock( clientId ) {\n\t\t\t\tdispatch( 'core/block-editor' ).selectBlock( clientId );\n\t\t\t\tonSelect( clientId );\n\t\t\t},\n\t\t};\n\t} )\n)( BlockNavigation );\n"]}