{"version":3,"sources":["@wordpress/block-editor/src/components/image-size-control/index.js"],"names":["isEmpty","noop","__","Button","ButtonGroup","SelectControl","TextControl","Component","ImageSizeControl","props","updateDimensions","bind","width","undefined","height","onChange","imageWidth","imageHeight","imageSizeOptions","isResizable","slug","onChangeImage","value","parseInt","map","scale","scaledWidth","Math","round","scaledHeight","isCurrent"],"mappings":"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","sourcesContent":["/**\n * External dependencies\n */\nimport { isEmpty, noop } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport {\n\tButton,\n\tButtonGroup,\n\tSelectControl,\n\tTextControl,\n} from '@wordpress/components';\nimport { Component } from '@wordpress/element';\n\nclass ImageSizeControl extends Component {\n\t/**\n\t * Run additional operations during component initialization.\n\t *\n\t * @param {Object} props\n\t */\n\tconstructor( props ) {\n\t\tsuper( props );\n\n\t\tthis.updateDimensions = this.updateDimensions.bind( this );\n\t}\n\n\tupdateDimensions( width = undefined, height = undefined ) {\n\t\treturn () => {\n\t\t\tthis.props.onChange( { width, height } );\n\t\t};\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\timageWidth,\n\t\t\timageHeight,\n\t\t\timageSizeOptions = [],\n\t\t\tisResizable = true,\n\t\t\tslug,\n\t\t\twidth,\n\t\t\theight,\n\t\t\tonChange,\n\t\t\tonChangeImage = noop,\n\t\t} = this.props;\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t{ ! isEmpty( imageSizeOptions ) && (\n\t\t\t\t\t<SelectControl\n\t\t\t\t\t\tlabel={ __( 'Image size' ) }\n\t\t\t\t\t\tvalue={ slug }\n\t\t\t\t\t\toptions={ imageSizeOptions }\n\t\t\t\t\t\tonChange={ onChangeImage }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t\t{ isResizable && (\n\t\t\t\t\t<div className=\"block-editor-image-size-control\">\n\t\t\t\t\t\t<p className=\"block-editor-image-size-control__row\">\n\t\t\t\t\t\t\t{ __( 'Image dimensions' ) }\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<div className=\"block-editor-image-size-control__row\">\n\t\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tclassName=\"block-editor-image-size-control__width\"\n\t\t\t\t\t\t\t\tlabel={ __( 'Width' ) }\n\t\t\t\t\t\t\t\tvalue={ width || imageWidth || '' }\n\t\t\t\t\t\t\t\tmin={ 1 }\n\t\t\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\t\t\tonChange( { width: parseInt( value, 10 ) } )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tclassName=\"block-editor-image-size-control__height\"\n\t\t\t\t\t\t\t\tlabel={ __( 'Height' ) }\n\t\t\t\t\t\t\t\tvalue={ height || imageHeight || '' }\n\t\t\t\t\t\t\t\tmin={ 1 }\n\t\t\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\t\t\tonChange( {\n\t\t\t\t\t\t\t\t\t\theight: parseInt( value, 10 ),\n\t\t\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"block-editor-image-size-control__row\">\n\t\t\t\t\t\t\t<ButtonGroup aria-label={ __( 'Image Size' ) }>\n\t\t\t\t\t\t\t\t{ [ 25, 50, 75, 100 ].map( ( scale ) => {\n\t\t\t\t\t\t\t\t\tconst scaledWidth = Math.round(\n\t\t\t\t\t\t\t\t\t\timageWidth * ( scale / 100 )\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\tconst scaledHeight = Math.round(\n\t\t\t\t\t\t\t\t\t\timageHeight * ( scale / 100 )\n\t\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\t\tconst isCurrent =\n\t\t\t\t\t\t\t\t\t\twidth === scaledWidth &&\n\t\t\t\t\t\t\t\t\t\theight === scaledHeight;\n\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tkey={ scale }\n\t\t\t\t\t\t\t\t\t\t\tisSmall\n\t\t\t\t\t\t\t\t\t\t\tisPrimary={ isCurrent }\n\t\t\t\t\t\t\t\t\t\t\tisPressed={ isCurrent }\n\t\t\t\t\t\t\t\t\t\t\tonClick={ this.updateDimensions(\n\t\t\t\t\t\t\t\t\t\t\t\tscaledWidth,\n\t\t\t\t\t\t\t\t\t\t\t\tscaledHeight\n\t\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{ scale }%\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t} ) }\n\t\t\t\t\t\t\t</ButtonGroup>\n\t\t\t\t\t\t\t<Button isSmall onClick={ this.updateDimensions() }>\n\t\t\t\t\t\t\t\t{ __( 'Reset' ) }\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t) }\n\t\t\t</>\n\t\t);\n\t}\n}\n\nexport default ImageSizeControl;\n"]}