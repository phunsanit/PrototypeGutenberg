{"version":3,"sources":["@wordpress/block-editor/src/utils/transform-styles/transforms/wrap.js"],"names":["includes","IS_ROOT_TAG","wrap","namespace","ignore","node","updateSelector","selector","trim","match","replace","type","selectors","map"],"mappings":";;;;;;AAAA;;;AAGA,SAASA,QAAT,QAAyB,QAAzB;AAEA;;;;AAGA,IAAMC,WAAW,GAAG,uBAApB;;AAEA,IAAMC,IAAI,GAAG,SAAPA,IAAO,CAAEC,SAAF;AAAA,MAAaC,MAAb,uEAAsB,EAAtB;AAAA,SAA8B,UAAEC,IAAF,EAAY;AACtD,QAAMC,cAAc,GAAG,SAAjBA,cAAiB,CAAEC,QAAF,EAAgB;AACtC,UAAKP,QAAQ,CAAEI,MAAF,EAAUG,QAAQ,CAACC,IAAT,EAAV,CAAb,EAA2C;AAC1C,eAAOD,QAAP;AACA,OAHqC,CAKtC;;;AACA;AACC,YAAK,CAAEA,QAAQ,CAACE,KAAT,CAAgBR,WAAhB,CAAP,EAAuC;AACtC,iBAAOE,SAAS,GAAG,GAAZ,GAAkBI,QAAzB;AACA;AACD,OAVqC,CAYtC;;AACA,aAAOA,QAAQ,CAACG,OAAT,CAAkB,oBAAlB,EAAwCP,SAAxC,CAAP;AACA,KAdD;;AAgBA,QAAKE,IAAI,CAACM,IAAL,KAAc,MAAnB,EAA4B;AAC3B,+BACIN,IADJ;AAECO,QAAAA,SAAS,EAAEP,IAAI,CAACO,SAAL,CAAeC,GAAf,CAAoBP,cAApB;AAFZ;AAIA;;AAED,WAAOD,IAAP;AACA,GAzBY;AAAA,CAAb;;AA2BA,eAAeH,IAAf","sourcesContent":["/**\n * External dependencies\n */\nimport { includes } from 'lodash';\n\n/**\n * @constant string IS_ROOT_TAG Regex to check if the selector is a root tag selector.\n */\nconst IS_ROOT_TAG = /^(body|html|:root).*$/;\n\nconst wrap = ( namespace, ignore = [] ) => ( node ) => {\n\tconst updateSelector = ( selector ) => {\n\t\tif ( includes( ignore, selector.trim() ) ) {\n\t\t\treturn selector;\n\t\t}\n\n\t\t// Anything other than a root tag is always prefixed.\n\t\t{\n\t\t\tif ( ! selector.match( IS_ROOT_TAG ) ) {\n\t\t\t\treturn namespace + ' ' + selector;\n\t\t\t}\n\t\t}\n\n\t\t// HTML and Body elements cannot be contained within our container so lets extract their styles.\n\t\treturn selector.replace( /^(body|html|:root)/, namespace );\n\t};\n\n\tif ( node.type === 'rule' ) {\n\t\treturn {\n\t\t\t...node,\n\t\t\tselectors: node.selectors.map( updateSelector ),\n\t\t};\n\t}\n\n\treturn node;\n};\n\nexport default wrap;\n"]}