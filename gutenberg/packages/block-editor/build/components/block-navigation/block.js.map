{"version":3,"sources":["@wordpress/block-editor/src/components/block-navigation/block.js"],"names":["BlockNavigationBlock","block","onClick","isSelected","position","level","rowCount","showBlockMovers","terminatedLevels","path","isHovered","setIsHovered","isFocused","setIsFocused","clientId","siblingCount","hasSiblings","hasRenderedMovers","hasVisibleMovers","moverCellClassName","withBlockNavigationBlockSettings","__experimentalWithBlockNavigationBlockSettings","blockNavigationBlockSettingsMinLevel","__experimentalWithBlockNavigationBlockSettingsMinLevel","blockNavigationBlockSettingsClassName","undefined","props","moreVertical"],"mappings":"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","sourcesContent":["/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { __experimentalTreeGridCell as TreeGridCell } from '@wordpress/components';\nimport { moreVertical } from '@wordpress/icons';\nimport { useState } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport BlockNavigationLeaf from './leaf';\nimport {\n\tBlockMoverUpButton,\n\tBlockMoverDownButton,\n} from '../block-mover/button';\nimport DescenderLines from './descender-lines';\nimport BlockNavigationBlockContents from './block-contents';\nimport BlockSettingsDropdown from '../block-settings-menu/block-settings-dropdown';\nimport { useBlockNavigationContext } from './context';\n\nexport default function BlockNavigationBlock( {\n\tblock,\n\tonClick,\n\tisSelected,\n\tposition,\n\tlevel,\n\trowCount,\n\tshowBlockMovers,\n\tterminatedLevels,\n\tpath,\n} ) {\n\tconst [ isHovered, setIsHovered ] = useState( false );\n\tconst [ isFocused, setIsFocused ] = useState( false );\n\tconst { clientId } = block;\n\n\t// Subtract 1 from rowCount, as it includes the block appender.\n\tconst siblingCount = rowCount - 1;\n\tconst hasSiblings = siblingCount > 1;\n\tconst hasRenderedMovers = showBlockMovers && hasSiblings;\n\tconst hasVisibleMovers = isHovered || isSelected || isFocused;\n\tconst moverCellClassName = classnames(\n\t\t'block-editor-block-navigation-block__mover-cell',\n\t\t{ 'is-visible': hasVisibleMovers }\n\t);\n\tconst {\n\t\t__experimentalWithBlockNavigationBlockSettings: withBlockNavigationBlockSettings,\n\t\t__experimentalWithBlockNavigationBlockSettingsMinLevel: blockNavigationBlockSettingsMinLevel,\n\t} = useBlockNavigationContext();\n\tconst blockNavigationBlockSettingsClassName = classnames(\n\t\t'block-editor-block-navigation-block__menu-cell',\n\t\t{ 'is-visible': hasVisibleMovers }\n\t);\n\n\treturn (\n\t\t<BlockNavigationLeaf\n\t\t\tclassName={ classnames( {\n\t\t\t\t'is-selected': isSelected,\n\t\t\t} ) }\n\t\t\tonMouseEnter={ () => setIsHovered( true ) }\n\t\t\tonMouseLeave={ () => setIsHovered( false ) }\n\t\t\tonFocus={ () => setIsFocused( true ) }\n\t\t\tonBlur={ () => setIsFocused( false ) }\n\t\t\tlevel={ level }\n\t\t\tposition={ position }\n\t\t\trowCount={ rowCount }\n\t\t\tpath={ path }\n\t\t>\n\t\t\t<TreeGridCell\n\t\t\t\tclassName=\"block-editor-block-navigation-block__contents-cell\"\n\t\t\t\tcolSpan={ hasRenderedMovers ? undefined : 3 }\n\t\t\t>\n\t\t\t\t{ ( props ) => (\n\t\t\t\t\t<div className=\"block-editor-block-navigation-block__contents-container\">\n\t\t\t\t\t\t<DescenderLines\n\t\t\t\t\t\t\tlevel={ level }\n\t\t\t\t\t\t\tisLastRow={ position === rowCount }\n\t\t\t\t\t\t\tterminatedLevels={ terminatedLevels }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<BlockNavigationBlockContents\n\t\t\t\t\t\t\tblock={ block }\n\t\t\t\t\t\t\tonClick={ onClick }\n\t\t\t\t\t\t\tisSelected={ isSelected }\n\t\t\t\t\t\t\tposition={ position }\n\t\t\t\t\t\t\tsiblingCount={ siblingCount }\n\t\t\t\t\t\t\tlevel={ level }\n\t\t\t\t\t\t\t{ ...props }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t) }\n\t\t\t</TreeGridCell>\n\t\t\t{ hasRenderedMovers && (\n\t\t\t\t<>\n\t\t\t\t\t<TreeGridCell className={ moverCellClassName }>\n\t\t\t\t\t\t{ ( props ) => (\n\t\t\t\t\t\t\t<BlockMoverUpButton\n\t\t\t\t\t\t\t\t__experimentalOrientation=\"vertical\"\n\t\t\t\t\t\t\t\tclientIds={ [ clientId ] }\n\t\t\t\t\t\t\t\t{ ...props }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</TreeGridCell>\n\t\t\t\t\t<TreeGridCell className={ moverCellClassName }>\n\t\t\t\t\t\t{ ( props ) => (\n\t\t\t\t\t\t\t<BlockMoverDownButton\n\t\t\t\t\t\t\t\t__experimentalOrientation=\"vertical\"\n\t\t\t\t\t\t\t\tclientIds={ [ clientId ] }\n\t\t\t\t\t\t\t\t{ ...props }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</TreeGridCell>\n\t\t\t\t</>\n\t\t\t) }\n\n\t\t\t{ withBlockNavigationBlockSettings &&\n\t\t\t\tlevel >= blockNavigationBlockSettingsMinLevel && (\n\t\t\t\t\t<TreeGridCell\n\t\t\t\t\t\tclassName={ blockNavigationBlockSettingsClassName }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ ( props ) => (\n\t\t\t\t\t\t\t<BlockSettingsDropdown\n\t\t\t\t\t\t\t\tclientIds={ [ clientId ] }\n\t\t\t\t\t\t\t\ticon={ moreVertical }\n\t\t\t\t\t\t\t\t{ ...props }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</TreeGridCell>\n\t\t\t\t) }\n\t\t</BlockNavigationLeaf>\n\t);\n}\n"]}