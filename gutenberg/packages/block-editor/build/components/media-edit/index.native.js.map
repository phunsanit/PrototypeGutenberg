{"version":3,"sources":["@wordpress/block-editor/src/components/media-edit/index.native.js"],"names":["MEDIA_TYPE_IMAGE","MEDIA_EDITOR","editOption","id","value","label","types","icon","brush","replaceOption","mediaSources","deviceLibrary","update","options","MediaEdit","props","onPickerPresent","bind","onPickerSelect","picker","presentPicker","onSelect","multiple","source","uri","media","openReplaceMediaOptions","mediaOptions","instance","getMediaOptionsItems","render","open","React","Component"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAGA;;AACA;;AAQA;;AACA;;AACA;;;;;;AAEO,IAAMA,gBAAgB,GAAG,OAAzB;;AAEA,IAAMC,YAAY,GAAG,cAArB;;AAEP,IAAMC,UAAU,GAAG;AAClBC,EAAAA,EAAE,EAAEF,YADc;AAElBG,EAAAA,KAAK,EAAEH,YAFW;AAGlBI,EAAAA,KAAK,EAAE,cAAI,MAAJ,CAHW;AAIlBC,EAAAA,KAAK,EAAE,CAAEN,gBAAF,CAJW;AAKlBO,EAAAA,IAAI,EAAEC;AALY,CAAnB;AAQA,IAAMC,aAAa,GAAG;AACrBN,EAAAA,EAAE,EAAEO,yCAAaC,aADI;AAErBP,EAAAA,KAAK,EAAEM,yCAAaC,aAFC;AAGrBN,EAAAA,KAAK,EAAE,cAAI,SAAJ,CAHc;AAIrBC,EAAAA,KAAK,EAAE,CAAEN,gBAAF,CAJc;AAKrBO,EAAAA,IAAI,EAAEK;AALe,CAAtB;AAQA,IAAMC,OAAO,GAAG,CAAEX,UAAF,EAAcO,aAAd,CAAhB;;IAEaK,S;;;;;AACZ,qBAAaC,KAAb,EAAqB;AAAA;;AAAA;AACpB,8BAAOA,KAAP;AACA,UAAKC,eAAL,GAAuB,MAAKA,eAAL,CAAqBC,IAArB,6CAAvB;AACA,UAAKC,cAAL,GAAsB,MAAKA,cAAL,CAAoBD,IAApB,6CAAtB;AAHoB;AAIpB;;;;2CAEsB;AACtB,aAAOJ,OAAP;AACA;;;sCAEiB;AACjB,UAAK,KAAKM,MAAV,EAAmB;AAClB,aAAKA,MAAL,CAAYC,aAAZ;AACA;AACD;;;mCAEehB,K,EAAQ;AAAA,wBACgB,KAAKW,KADrB;AAAA,UACfM,QADe,eACfA,QADe;AAAA,6CACLC,QADK;AAAA,UACLA,QADK,qCACM,KADN;;AAGvB,cAASlB,KAAT;AACC,aAAKH,YAAL;AACC,8DAAoB,KAAKc,KAAL,CAAWQ,MAAX,CAAkBC,GAAtC,EAA2C,UAAEC,KAAF,EAAa;AACvD,gBAAOH,QAAQ,IAAIG,KAAd,IAA2BA,KAAK,IAAIA,KAAK,CAACtB,EAA/C,EAAsD;AACrDkB,cAAAA,QAAQ,CAAEI,KAAF,CAAR;AACA;AACD,WAJD;AAKA;;AACD;AACC,eAAKV,KAAL,CAAWW,uBAAX;AATF;AAWA;;;6BAEQ;AAAA;;AACR,UAAMC,YAAY,GAAG,SAAfA,YAAe;AAAA,eACpB,4BAAC,kBAAD;AACC,UAAA,gBAAgB,MADjB;AAEC,UAAA,GAAG,EAAG,aAAEC,QAAF;AAAA,mBAAkB,MAAI,CAACT,MAAL,GAAcS,QAAhC;AAAA,WAFP;AAGC,UAAA,OAAO,EAAG,MAAI,CAACC,oBAAL,EAHX;AAIC,UAAA,QAAQ,EAAG,MAAI,CAACX;AAJjB,UADoB;AAAA,OAArB;;AASA,aAAO,KAAKH,KAAL,CAAWe,MAAX,CAAmB;AACzBC,QAAAA,IAAI,EAAE,KAAKf,eADc;AAEzBW,QAAAA,YAAY,EAAZA;AAFyB,OAAnB,CAAP;AAIA;;;EA/C6BK,eAAMC,S;;;eAkDtBnB,S","sourcesContent":["/**\n * External dependencies\n */\nimport React from 'react';\nimport {\n\trequestMediaEditor,\n\tmediaSources,\n} from 'react-native-gutenberg-bridge';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { Picker } from '@wordpress/components';\nimport { update, brush } from '@wordpress/icons';\n\nexport const MEDIA_TYPE_IMAGE = 'image';\n\nexport const MEDIA_EDITOR = 'MEDIA_EDITOR';\n\nconst editOption = {\n\tid: MEDIA_EDITOR,\n\tvalue: MEDIA_EDITOR,\n\tlabel: __( 'Edit' ),\n\ttypes: [ MEDIA_TYPE_IMAGE ],\n\ticon: brush,\n};\n\nconst replaceOption = {\n\tid: mediaSources.deviceLibrary,\n\tvalue: mediaSources.deviceLibrary,\n\tlabel: __( 'Replace' ),\n\ttypes: [ MEDIA_TYPE_IMAGE ],\n\ticon: update,\n};\n\nconst options = [ editOption, replaceOption ];\n\nexport class MediaEdit extends React.Component {\n\tconstructor( props ) {\n\t\tsuper( props );\n\t\tthis.onPickerPresent = this.onPickerPresent.bind( this );\n\t\tthis.onPickerSelect = this.onPickerSelect.bind( this );\n\t}\n\n\tgetMediaOptionsItems() {\n\t\treturn options;\n\t}\n\n\tonPickerPresent() {\n\t\tif ( this.picker ) {\n\t\t\tthis.picker.presentPicker();\n\t\t}\n\t}\n\n\tonPickerSelect( value ) {\n\t\tconst { onSelect, multiple = false } = this.props;\n\n\t\tswitch ( value ) {\n\t\t\tcase MEDIA_EDITOR:\n\t\t\t\trequestMediaEditor( this.props.source.uri, ( media ) => {\n\t\t\t\t\tif ( ( multiple && media ) || ( media && media.id ) ) {\n\t\t\t\t\t\tonSelect( media );\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tthis.props.openReplaceMediaOptions();\n\t\t}\n\t}\n\n\trender() {\n\t\tconst mediaOptions = () => (\n\t\t\t<Picker\n\t\t\t\thideCancelButton\n\t\t\t\tref={ ( instance ) => ( this.picker = instance ) }\n\t\t\t\toptions={ this.getMediaOptionsItems() }\n\t\t\t\tonChange={ this.onPickerSelect }\n\t\t\t/>\n\t\t);\n\n\t\treturn this.props.render( {\n\t\t\topen: this.onPickerPresent,\n\t\t\tmediaOptions,\n\t\t} );\n\t}\n}\n\nexport default MediaEdit;\n"]}