{"version":3,"sources":["@wordpress/block-editor/src/components/block-switcher/index.js"],"names":["POPOVER_PROPS","position","isAlternate","BlockSwitcher","arguments","state","hoveredClassName","onHoverClassName","bind","className","setState","props","blocks","onTransform","inserterItems","hasBlockStyles","length","hoveredBlock","hoveredBlockType","name","itemsByName","possibleBlockTransformations","block","frecency","isSelectionOfSameType","icon","sourceBlockName","blockType","layout","onToggle","isOpen","openOnArrowDown","event","keyCode","DOWN","preventDefault","stopPropagation","label","onClose","clientId","map","destinationBlockType","id","title","item","example","attributes","innerBlocks","Component","select","clientIds","getBlocksByClientId","getBlockRootClientId","getInserterItems","getBlockStyles","rootClientId","firstBlock","styles","dispatch","ownProps","replaceBlocks"],"mappings":"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","sourcesContent":["/**\n * External dependencies\n */\nimport { castArray, filter, first, mapKeys, orderBy, uniq, map } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { __, _n, sprintf } from '@wordpress/i18n';\nimport {\n\tDropdown,\n\tToolbarButton,\n\tToolbarGroup,\n\tMenuGroup,\n} from '@wordpress/components';\nimport {\n\tgetBlockType,\n\tgetPossibleBlockTransformations,\n\tswitchToBlockType,\n\tcloneBlock,\n\tgetBlockFromExample,\n} from '@wordpress/blocks';\nimport { Component } from '@wordpress/element';\nimport { DOWN } from '@wordpress/keycodes';\nimport { withSelect, withDispatch } from '@wordpress/data';\nimport { compose } from '@wordpress/compose';\nimport { layout } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport BlockIcon from '../block-icon';\nimport BlockStyles from '../block-styles';\nimport BlockPreview from '../block-preview';\nimport BlockTypesList from '../block-types-list';\n\nconst POPOVER_PROPS = {\n\tposition: 'bottom right',\n\tisAlternate: true,\n};\n\nexport class BlockSwitcher extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\t\tthis.state = {\n\t\t\thoveredClassName: null,\n\t\t};\n\t\tthis.onHoverClassName = this.onHoverClassName.bind( this );\n\t}\n\n\tonHoverClassName( className ) {\n\t\tthis.setState( { hoveredClassName: className } );\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tblocks,\n\t\t\tonTransform,\n\t\t\tinserterItems,\n\t\t\thasBlockStyles,\n\t\t} = this.props;\n\t\tconst { hoveredClassName } = this.state;\n\n\t\tif ( ! blocks || ! blocks.length ) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst hoveredBlock = blocks[ 0 ];\n\t\tconst hoveredBlockType = getBlockType( hoveredBlock.name );\n\n\t\tconst itemsByName = mapKeys( inserterItems, ( { name } ) => name );\n\t\tconst possibleBlockTransformations = orderBy(\n\t\t\tfilter(\n\t\t\t\tgetPossibleBlockTransformations( blocks ),\n\t\t\t\t( block ) => block && !! itemsByName[ block.name ]\n\t\t\t),\n\t\t\t( block ) => itemsByName[ block.name ].frecency,\n\t\t\t'desc'\n\t\t);\n\n\t\t// When selection consists of blocks of multiple types, display an\n\t\t// appropriate icon to communicate the non-uniformity.\n\t\tconst isSelectionOfSameType =\n\t\t\tuniq( map( blocks, 'name' ) ).length === 1;\n\n\t\tlet icon;\n\t\tif ( isSelectionOfSameType ) {\n\t\t\tconst sourceBlockName = blocks[ 0 ].name;\n\t\t\tconst blockType = getBlockType( sourceBlockName );\n\t\t\ticon = blockType.icon;\n\t\t} else {\n\t\t\ticon = layout;\n\t\t}\n\n\t\tif ( ! hasBlockStyles && ! possibleBlockTransformations.length ) {\n\t\t\treturn (\n\t\t\t\t<ToolbarGroup>\n\t\t\t\t\t<ToolbarButton\n\t\t\t\t\t\tdisabled\n\t\t\t\t\t\tclassName=\"block-editor-block-switcher__no-switcher-icon\"\n\t\t\t\t\t\ttitle={ __( 'Block icon' ) }\n\t\t\t\t\t\ticon={ <BlockIcon icon={ icon } showColors /> }\n\t\t\t\t\t/>\n\t\t\t\t</ToolbarGroup>\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<Dropdown\n\t\t\t\tpopoverProps={ POPOVER_PROPS }\n\t\t\t\tclassName=\"block-editor-block-switcher\"\n\t\t\t\tcontentClassName=\"block-editor-block-switcher__popover\"\n\t\t\t\trenderToggle={ ( { onToggle, isOpen } ) => {\n\t\t\t\t\tconst openOnArrowDown = ( event ) => {\n\t\t\t\t\t\tif ( ! isOpen && event.keyCode === DOWN ) {\n\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\t\tonToggle();\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tconst label =\n\t\t\t\t\t\t1 === blocks.length\n\t\t\t\t\t\t\t? __( 'Change block type or style' )\n\t\t\t\t\t\t\t: sprintf(\n\t\t\t\t\t\t\t\t\t/* translators: %s: number of blocks. */\n\t\t\t\t\t\t\t\t\t_n(\n\t\t\t\t\t\t\t\t\t\t'Change type of %d block',\n\t\t\t\t\t\t\t\t\t\t'Change type of %d blocks',\n\t\t\t\t\t\t\t\t\t\tblocks.length\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\tblocks.length\n\t\t\t\t\t\t\t  );\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<ToolbarGroup>\n\t\t\t\t\t\t\t<ToolbarButton\n\t\t\t\t\t\t\t\tclassName=\"block-editor-block-switcher__toggle\"\n\t\t\t\t\t\t\t\tonClick={ onToggle }\n\t\t\t\t\t\t\t\taria-haspopup=\"true\"\n\t\t\t\t\t\t\t\taria-expanded={ isOpen }\n\t\t\t\t\t\t\t\ttitle={ label }\n\t\t\t\t\t\t\t\tonKeyDown={ openOnArrowDown }\n\t\t\t\t\t\t\t\tshowTooltip\n\t\t\t\t\t\t\t\ticon={ <BlockIcon icon={ icon } showColors /> }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</ToolbarGroup>\n\t\t\t\t\t);\n\t\t\t\t} }\n\t\t\t\trenderContent={ ( { onClose } ) => (\n\t\t\t\t\t<>\n\t\t\t\t\t\t{ ( hasBlockStyles ||\n\t\t\t\t\t\t\tpossibleBlockTransformations.length !== 0 ) && (\n\t\t\t\t\t\t\t<div className=\"block-editor-block-switcher__container\">\n\t\t\t\t\t\t\t\t{ hasBlockStyles && (\n\t\t\t\t\t\t\t\t\t<MenuGroup>\n\t\t\t\t\t\t\t\t\t\t<div className=\"block-editor-block-switcher__label\">\n\t\t\t\t\t\t\t\t\t\t\t{ __( 'Styles' ) }\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<BlockStyles\n\t\t\t\t\t\t\t\t\t\t\tclientId={ blocks[ 0 ].clientId }\n\t\t\t\t\t\t\t\t\t\t\tonSwitch={ onClose }\n\t\t\t\t\t\t\t\t\t\t\tonHoverClassName={\n\t\t\t\t\t\t\t\t\t\t\t\tthis.onHoverClassName\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</MenuGroup>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t{ possibleBlockTransformations.length !== 0 && (\n\t\t\t\t\t\t\t\t\t<MenuGroup>\n\t\t\t\t\t\t\t\t\t\t<div className=\"block-editor-block-switcher__label\">\n\t\t\t\t\t\t\t\t\t\t\t{ __( 'Transform to' ) }\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<BlockTypesList\n\t\t\t\t\t\t\t\t\t\t\titems={ possibleBlockTransformations.map(\n\t\t\t\t\t\t\t\t\t\t\t\t( destinationBlockType ) => ( {\n\t\t\t\t\t\t\t\t\t\t\t\t\tid:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdestinationBlockType.name,\n\t\t\t\t\t\t\t\t\t\t\t\t\ticon:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdestinationBlockType.icon,\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitle:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdestinationBlockType.title,\n\t\t\t\t\t\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t\tonSelect={ ( item ) => {\n\t\t\t\t\t\t\t\t\t\t\t\tonTransform( blocks, item.id );\n\t\t\t\t\t\t\t\t\t\t\t\tonClose();\n\t\t\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</MenuGroup>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t{ hoveredClassName !== null && (\n\t\t\t\t\t\t\t<div className=\"block-editor-block-switcher__preview\">\n\t\t\t\t\t\t\t\t<div className=\"block-editor-block-switcher__preview-title\">\n\t\t\t\t\t\t\t\t\t{ __( 'Preview' ) }\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<BlockPreview\n\t\t\t\t\t\t\t\t\tviewportWidth={ 500 }\n\t\t\t\t\t\t\t\t\tblocks={\n\t\t\t\t\t\t\t\t\t\thoveredBlockType.example\n\t\t\t\t\t\t\t\t\t\t\t? getBlockFromExample(\n\t\t\t\t\t\t\t\t\t\t\t\t\thoveredBlock.name,\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...hoveredBlockType\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.example\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.attributes,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName: hoveredClassName,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tinnerBlocks:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thoveredBlockType\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.example\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.innerBlocks,\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t\t\t\t\t: cloneBlock( hoveredBlock, {\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName: hoveredClassName,\n\t\t\t\t\t\t\t\t\t\t\t  } )\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</>\n\t\t\t\t) }\n\t\t\t/>\n\t\t);\n\t}\n}\n\nexport default compose(\n\twithSelect( ( select, { clientIds } ) => {\n\t\tconst {\n\t\t\tgetBlocksByClientId,\n\t\t\tgetBlockRootClientId,\n\t\t\tgetInserterItems,\n\t\t} = select( 'core/block-editor' );\n\t\tconst { getBlockStyles } = select( 'core/blocks' );\n\t\tconst rootClientId = getBlockRootClientId(\n\t\t\tfirst( castArray( clientIds ) )\n\t\t);\n\t\tconst blocks = getBlocksByClientId( clientIds );\n\t\tconst firstBlock = blocks && blocks.length === 1 ? blocks[ 0 ] : null;\n\t\tconst styles = firstBlock && getBlockStyles( firstBlock.name );\n\t\treturn {\n\t\t\tblocks,\n\t\t\tinserterItems: getInserterItems( rootClientId ),\n\t\t\thasBlockStyles: styles && styles.length > 0,\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch, ownProps ) => ( {\n\t\tonTransform( blocks, name ) {\n\t\t\tdispatch( 'core/block-editor' ).replaceBlocks(\n\t\t\t\townProps.clientIds,\n\t\t\t\tswitchToBlockType( blocks, name )\n\t\t\t);\n\t\t},\n\t} ) )\n)( BlockSwitcher );\n"]}