{"version":3,"sources":["@wordpress/block-editor/src/components/link-control/search-input.js"],"names":["LinkControlSearchInput","placeholder","value","onChange","onSelect","renderSuggestions","fetchSuggestions","showInitialSuggestions","errorMessage","selectedSuggestion","setSelectedSuggestion","selectItemHandler","selection","suggestion","selectSuggestionOrCurrentInputValue","event","preventDefault","url","keyboardReturn"],"mappings":";;;;;;;;;AAGA;;;;AACA;;AACA;;AACA;;AAKA;;AAXA;;;;AAQA;;;AAKA,IAAMA,sBAAsB,GAAG,SAAzBA,sBAAyB,OASxB;AAAA,MARNC,WAQM,QARNA,WAQM;AAAA,MAPNC,KAOM,QAPNA,KAOM;AAAA,MANNC,QAMM,QANNA,QAMM;AAAA,MALNC,QAKM,QALNA,QAKM;AAAA,MAJNC,iBAIM,QAJNA,iBAIM;AAAA,MAHNC,gBAGM,QAHNA,gBAGM;AAAA,MAFNC,sBAEM,QAFNA,sBAEM;AAAA,MADNC,YACM,QADNA,YACM;;AAAA,kBACgD,wBADhD;AAAA;AAAA,MACEC,kBADF;AAAA,MACsBC,qBADtB;AAGN;;;;;;;;;AAOA,MAAMC,iBAAiB,GAAG,SAApBA,iBAAoB,CAAEC,SAAF,EAAaC,UAAb,EAA6B;AACtDV,IAAAA,QAAQ,CAAES,SAAF,CAAR;AACAF,IAAAA,qBAAqB,CAAEG,UAAF,CAArB;AACA,GAHD;;AAKA,WAASC,mCAAT,CAA8CC,KAA9C,EAAsD;AACrD;AACAA,IAAAA,KAAK,CAACC,cAAN,GAFqD,CAIrD;AACA;;AACAZ,IAAAA,QAAQ,CAAEK,kBAAkB,IAAI;AAAEQ,MAAAA,GAAG,EAAEf;AAAP,KAAxB,CAAR;AACA;;AAED,SACC;AAAM,IAAA,QAAQ,EAAGY;AAAjB,KACC;AAAK,IAAA,SAAS,EAAC;AAAf,KACC,4BAAC,UAAD;AACC,IAAA,SAAS,EAAC,yCADX;AAEC,IAAA,KAAK,EAAGZ,KAFT;AAGC,IAAA,QAAQ,EAAGS,iBAHZ;AAIC,IAAA,WAAW,EAAGV,WAAH,aAAGA,WAAH,cAAGA,WAAH,GAAkB,cAAI,oBAAJ,CAJ9B;AAKC,IAAA,+BAA+B,EAAGI,iBALnC;AAMC,IAAA,kCAAkC,EAAGC,gBANtC;AAOC,IAAA,kCAAkC,EAAG,IAPtC;AAQC,IAAA,oCAAoC,EACnCC;AATF,IADD,EAaC;AAAK,IAAA,SAAS,EAAC;AAAf,KACC,4BAAC,kBAAD;AACC,IAAA,IAAI,EAAC,QADN;AAEC,IAAA,KAAK,EAAG,cAAI,QAAJ,CAFT;AAGC,IAAA,IAAI,EAAGW,qBAHR;AAIC,IAAA,SAAS,EAAC;AAJX,IADD,CAbD,CADD,EAwBGV,YAAY,IACb,4BAAC,kBAAD;AACC,IAAA,SAAS,EAAC,yCADX;AAEC,IAAA,MAAM,EAAC,OAFR;AAGC,IAAA,aAAa,EAAG;AAHjB,KAKGA,YALH,CAzBF,CADD;AAoCA,CArED;;eAuEeR,sB","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { useState } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\nimport { Button, Notice } from '@wordpress/components';\nimport { keyboardReturn } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport { URLInput } from '../';\n\nconst LinkControlSearchInput = ( {\n\tplaceholder,\n\tvalue,\n\tonChange,\n\tonSelect,\n\trenderSuggestions,\n\tfetchSuggestions,\n\tshowInitialSuggestions,\n\terrorMessage,\n} ) => {\n\tconst [ selectedSuggestion, setSelectedSuggestion ] = useState();\n\n\t/**\n\t * Handles the user moving between different suggestions. Does not handle\n\t * choosing an individual item.\n\t *\n\t * @param {string} selection the url of the selected suggestion.\n\t * @param {Object} suggestion the suggestion object.\n\t */\n\tconst selectItemHandler = ( selection, suggestion ) => {\n\t\tonChange( selection );\n\t\tsetSelectedSuggestion( suggestion );\n\t};\n\n\tfunction selectSuggestionOrCurrentInputValue( event ) {\n\t\t// Avoid default forms behavior, since it's being handled custom here.\n\t\tevent.preventDefault();\n\n\t\t// Interpret the selected value as either the selected suggestion, if\n\t\t// exists, or otherwise the current input value as entered.\n\t\tonSelect( selectedSuggestion || { url: value } );\n\t}\n\n\treturn (\n\t\t<form onSubmit={ selectSuggestionOrCurrentInputValue }>\n\t\t\t<div className=\"block-editor-link-control__search-input-wrapper\">\n\t\t\t\t<URLInput\n\t\t\t\t\tclassName=\"block-editor-link-control__search-input\"\n\t\t\t\t\tvalue={ value }\n\t\t\t\t\tonChange={ selectItemHandler }\n\t\t\t\t\tplaceholder={ placeholder ?? __( 'Search or type url' ) }\n\t\t\t\t\t__experimentalRenderSuggestions={ renderSuggestions }\n\t\t\t\t\t__experimentalFetchLinkSuggestions={ fetchSuggestions }\n\t\t\t\t\t__experimentalHandleURLSuggestions={ true }\n\t\t\t\t\t__experimentalShowInitialSuggestions={\n\t\t\t\t\t\tshowInitialSuggestions\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t<div className=\"block-editor-link-control__search-actions\">\n\t\t\t\t\t<Button\n\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\tlabel={ __( 'Submit' ) }\n\t\t\t\t\t\ticon={ keyboardReturn }\n\t\t\t\t\t\tclassName=\"block-editor-link-control__search-submit\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t{ errorMessage && (\n\t\t\t\t<Notice\n\t\t\t\t\tclassName=\"block-editor-link-control__search-error\"\n\t\t\t\t\tstatus=\"error\"\n\t\t\t\t\tisDismissible={ false }\n\t\t\t\t>\n\t\t\t\t\t{ errorMessage }\n\t\t\t\t</Notice>\n\t\t\t) }\n\t\t</form>\n\t);\n};\n\nexport default LinkControlSearchInput;\n"]}