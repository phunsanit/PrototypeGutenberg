{"version":3,"sources":["@wordpress/edit-navigation/src/components/menu-editor/block-editor-panel.js"],"names":["classnames","BlockList","BlockToolbar","NavigableToolbar","ObserveTyping","WritingFlow","Button","Panel","PanelBody","Popover","useSelect","__","DeleteMenuButton","BlockEditorPanel","onDeleteMenu","menuId","saveBlocks","select","isNavigationMode","getBlockSelectionStart","getBlock","selectionStartClientId","isNavigationModeActive","hasSelectedBlock"],"mappings":";;AAAA;;;AAGA,OAAOA,UAAP,MAAuB,YAAvB;AAEA;;;;AAGA,SACCC,SADD,EAECC,YAFD,EAGCC,gBAHD,EAICC,aAJD,EAKCC,WALD,QAMO,yBANP;AAOA,SAASC,MAAT,EAAiBC,KAAjB,EAAwBC,SAAxB,EAAmCC,OAAnC,QAAkD,uBAAlD;AACA,SAASC,SAAT,QAA0B,iBAA1B;AACA,SAASC,EAAT,QAAmB,iBAAnB;AAEA;;;;AAGA,OAAOC,gBAAP,MAA6B,uBAA7B;AAEA,eAAe,SAASC,gBAAT,OAIX;AAAA,MAHHC,YAGG,QAHHA,YAGG;AAAA,MAFHC,MAEG,QAFHA,MAEG;AAAA,MADHC,UACG,QADHA,UACG;;AAAA,mBACkDN,SAAS,CAC7D,UAAEO,MAAF,EAAc;AAAA,kBAKTA,MAAM,CAAE,mBAAF,CALG;AAAA,QAEZC,gBAFY,WAEZA,gBAFY;AAAA,QAGZC,sBAHY,WAGZA,sBAHY;AAAA,QAIZC,QAJY,WAIZA,QAJY;;AAOb,QAAMC,sBAAsB,GAAGF,sBAAsB,EAArD;AAEA,WAAO;AACNG,MAAAA,sBAAsB,EAAEJ,gBAAgB,EADlC;AAENK,MAAAA,gBAAgB,EACf,CAAC,CAAEF,sBAAH,IACA,CAAC,CAAED,QAAQ,CAAEC,sBAAF;AAJN,KAAP;AAMA,GAhB4D,EAiB7D,EAjB6D,CAD3D;AAAA,MACKC,sBADL,cACKA,sBADL;AAAA,MAC6BC,gBAD7B,cAC6BA,gBAD7B;;AAqBH,SACC,cAAC,KAAD;AAAO,IAAA,SAAS,EAAC;AAAjB,KACC,cAAC,SAAD;AAAW,IAAA,KAAK,EAAGZ,EAAE,CAAE,iBAAF;AAArB,KACC;AAAK,IAAA,SAAS,EAAC;AAAf,KACC,cAAC,MAAD;AAAQ,IAAA,SAAS,MAAjB;AAAkB,IAAA,OAAO,EAAGK;AAA5B,KACGL,EAAE,CAAE,iBAAF,CADL,CADD,CADD,EAMC,cAAC,gBAAD;AACC,IAAA,SAAS,EAAGX,UAAU,CACrB,mDADqB,EAErB;AACC,mBAAasB;AADd,KAFqB,CADvB;AAOC,kBAAaX,EAAE,CAAE,aAAF;AAPhB,KASGY,gBAAgB,IAAI,cAAC,YAAD;AAAc,IAAA,cAAc;AAA5B,IATvB,CAND,EAiBC,cAAC,OAAD,CAAS,IAAT;AAAc,IAAA,IAAI,EAAC;AAAnB,IAjBD,EAkBC,cAAC,WAAD,QACC,cAAC,aAAD,QACC,cAAC,SAAD,OADD,CADD,CAlBD,EAuBC;AAAK,IAAA,SAAS,EAAC;AAAf,KACC,cAAC,gBAAD;AACC,IAAA,MAAM,EAAGR,MADV;AAEC,IAAA,QAAQ,EAAGD;AAFZ,IADD,CAvBD,CADD,CADD;AAkCA","sourcesContent":["/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tBlockList,\n\tBlockToolbar,\n\tNavigableToolbar,\n\tObserveTyping,\n\tWritingFlow,\n} from '@wordpress/block-editor';\nimport { Button, Panel, PanelBody, Popover } from '@wordpress/components';\nimport { useSelect } from '@wordpress/data';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport DeleteMenuButton from '../delete-menu-button';\n\nexport default function BlockEditorPanel( {\n\tonDeleteMenu,\n\tmenuId,\n\tsaveBlocks,\n} ) {\n\tconst { isNavigationModeActive, hasSelectedBlock } = useSelect(\n\t\t( select ) => {\n\t\t\tconst {\n\t\t\t\tisNavigationMode,\n\t\t\t\tgetBlockSelectionStart,\n\t\t\t\tgetBlock,\n\t\t\t} = select( 'core/block-editor' );\n\n\t\t\tconst selectionStartClientId = getBlockSelectionStart();\n\n\t\t\treturn {\n\t\t\t\tisNavigationModeActive: isNavigationMode(),\n\t\t\t\thasSelectedBlock:\n\t\t\t\t\t!! selectionStartClientId &&\n\t\t\t\t\t!! getBlock( selectionStartClientId ),\n\t\t\t};\n\t\t},\n\t\t[]\n\t);\n\n\treturn (\n\t\t<Panel className=\"edit-navigation-menu-editor__block-editor-panel\">\n\t\t\t<PanelBody title={ __( 'Navigation menu' ) }>\n\t\t\t\t<div className=\"components-panel__header-actions\">\n\t\t\t\t\t<Button isPrimary onClick={ saveBlocks }>\n\t\t\t\t\t\t{ __( 'Save navigation' ) }\n\t\t\t\t\t</Button>\n\t\t\t\t</div>\n\t\t\t\t<NavigableToolbar\n\t\t\t\t\tclassName={ classnames(\n\t\t\t\t\t\t'edit-navigation-menu-editor__block-editor-toolbar',\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t'is-hidden': isNavigationModeActive,\n\t\t\t\t\t\t}\n\t\t\t\t\t) }\n\t\t\t\t\taria-label={ __( 'Block tools' ) }\n\t\t\t\t>\n\t\t\t\t\t{ hasSelectedBlock && <BlockToolbar hideDragHandle /> }\n\t\t\t\t</NavigableToolbar>\n\t\t\t\t<Popover.Slot name=\"block-toolbar\" />\n\t\t\t\t<WritingFlow>\n\t\t\t\t\t<ObserveTyping>\n\t\t\t\t\t\t<BlockList />\n\t\t\t\t\t</ObserveTyping>\n\t\t\t\t</WritingFlow>\n\t\t\t\t<div className=\"components-panel__footer-actions\">\n\t\t\t\t\t<DeleteMenuButton\n\t\t\t\t\t\tmenuId={ menuId }\n\t\t\t\t\t\tonDelete={ onDeleteMenu }\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</PanelBody>\n\t\t</Panel>\n\t);\n}\n"]}