{"version":3,"sources":["@wordpress/editor/src/components/global-keyboard-shortcuts/save-shortcut.js"],"names":["useShortcut","useDispatch","useSelect","SaveShortcut","savePost","isEditedPostDirty","select","event","preventDefault","bindGlobal"],"mappings":"AAAA;;;AAGA,SAASA,WAAT,QAA4B,+BAA5B;AACA,SAASC,WAAT,EAAsBC,SAAtB,QAAuC,iBAAvC;;AAEA,SAASC,YAAT,GAAwB;AAAA,qBACFF,WAAW,CAAE,aAAF,CADT;AAAA,MACfG,QADe,gBACfA,QADe;;AAEvB,MAAMC,iBAAiB,GAAGH,SAAS,CAClC,UAAEI,MAAF;AAAA,WAAcA,MAAM,CAAE,aAAF,CAAN,CAAwBD,iBAAtC;AAAA,GADkC,EAElC,EAFkC,CAAnC;AAKAL,EAAAA,WAAW,CACV,kBADU,EAEV,UAAEO,KAAF,EAAa;AACZA,IAAAA,KAAK,CAACC,cAAN,GADY,CAGZ;AACA;AACA;AACA;AACA;;AACA,QAAK,CAAEH,iBAAiB,EAAxB,EAA6B;AAC5B;AACA;;AAEDD,IAAAA,QAAQ;AACR,GAfS,EAgBV;AAAEK,IAAAA,UAAU,EAAE;AAAd,GAhBU,CAAX;AAmBA,SAAO,IAAP;AACA;;AAED,eAAeN,YAAf","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { useShortcut } from '@wordpress/keyboard-shortcuts';\nimport { useDispatch, useSelect } from '@wordpress/data';\n\nfunction SaveShortcut() {\n\tconst { savePost } = useDispatch( 'core/editor' );\n\tconst isEditedPostDirty = useSelect(\n\t\t( select ) => select( 'core/editor' ).isEditedPostDirty,\n\t\t[]\n\t);\n\n\tuseShortcut(\n\t\t'core/editor/save',\n\t\t( event ) => {\n\t\t\tevent.preventDefault();\n\n\t\t\t// TODO: This should be handled in the `savePost` effect in\n\t\t\t// considering `isSaveable`. See note on `isEditedPostSaveable`\n\t\t\t// selector about dirtiness and meta-boxes.\n\t\t\t//\n\t\t\t// See: `isEditedPostSaveable`\n\t\t\tif ( ! isEditedPostDirty() ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tsavePost();\n\t\t},\n\t\t{ bindGlobal: true }\n\t);\n\n\treturn null;\n}\n\nexport default SaveShortcut;\n"]}