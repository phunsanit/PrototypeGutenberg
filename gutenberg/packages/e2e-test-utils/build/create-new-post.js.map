{"version":3,"sources":["@wordpress/e2e-test-utils/src/create-new-post.js"],"names":["createNewPost","postType","title","content","excerpt","showWelcomeGuide","query","post_type","post_title","slice","page","evaluate","wp","data","select","isFeatureActive","isWelcomeGuideActive","isFullscreenMode","dispatch","toggleFeature","reload"],"mappings":";;;;;;;;;;;;;AAGA;;AAKA;;AARA;;;;AAKA;;;;AAKA;;;;;SAKsBA,a;;;;;2FAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,2EAMH,EANG,EACNC,QADM,QACNA,QADM,EAENC,KAFM,QAENA,KAFM,EAGNC,OAHM,QAGNA,OAHM,EAINC,OAJM,QAINA,OAJM,+BAKNC,gBALM,EAKNA,gBALM,sCAKa,KALb;AAOAC,YAAAA,KAPA,GAOQ,uBAAc,EAAd,EAAkB;AAC/BC,cAAAA,SAAS,EAAEN,QADoB;AAE/BO,cAAAA,UAAU,EAAEN,KAFmB;AAG/BC,cAAAA,OAAO,EAAPA,OAH+B;AAI/BC,cAAAA,OAAO,EAAPA;AAJ+B,aAAlB,EAKVK,KALU,CAKH,CALG,CAPR;AAAA;AAAA,mBAcA,oCAAgB,cAAhB,EAAgCH,KAAhC,CAdA;;AAAA;AAAA;AAAA,mBAgB6BI,IAAI,CAACC,QAAL,CAAe;AAAA,qBACjDC,EAAE,CAACC,IAAH,CAAQC,MAAR,CAAgB,gBAAhB,EAAmCC,eAAnC,CAAoD,cAApD,CADiD;AAAA,aAAf,CAhB7B;;AAAA;AAgBAC,YAAAA,oBAhBA;AAAA;AAAA,mBAmByBN,IAAI,CAACC,QAAL,CAAe;AAAA,qBAC7CC,EAAE,CAACC,IAAH,CAAQC,MAAR,CAAgB,gBAAhB,EAAmCC,eAAnC,CAAoD,gBAApD,CAD6C;AAAA,aAAf,CAnBzB;;AAAA;AAmBAE,YAAAA,gBAnBA;;AAAA,kBAuBDZ,gBAAgB,KAAKW,oBAvBpB;AAAA;AAAA;AAAA;;AAAA;AAAA,mBAwBCN,IAAI,CAACC,QAAL,CAAe;AAAA,qBACpBC,EAAE,CAACC,IAAH,CAAQK,QAAR,CAAkB,gBAAlB,EAAqCC,aAArC,CAAoD,cAApD,CADoB;AAAA,aAAf,CAxBD;;AAAA;AAAA;AAAA,mBA4BCT,IAAI,CAACU,MAAL,EA5BD;;AAAA;AAAA,iBA+BDH,gBA/BC;AAAA;AAAA;AAAA;;AAAA;AAAA,mBAgCCP,IAAI,CAACC,QAAL,CAAe;AAAA,qBACpBC,EAAE,CAACC,IAAH,CACEK,QADF,CACY,gBADZ,EAEEC,aAFF,CAEiB,gBAFjB,CADoB;AAAA,aAAf,CAhCD;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { addQueryArgs } from '@wordpress/url';\n\n/**\n * Internal dependencies\n */\nimport { visitAdminPage } from './visit-admin-page';\n\n/**\n * Creates new post.\n *\n * @param {Object} obj Object to create new post, along with tips enabling option.\n */\nexport async function createNewPost( {\n\tpostType,\n\ttitle,\n\tcontent,\n\texcerpt,\n\tshowWelcomeGuide = false,\n} = {} ) {\n\tconst query = addQueryArgs( '', {\n\t\tpost_type: postType,\n\t\tpost_title: title,\n\t\tcontent,\n\t\texcerpt,\n\t} ).slice( 1 );\n\n\tawait visitAdminPage( 'post-new.php', query );\n\n\tconst isWelcomeGuideActive = await page.evaluate( () =>\n\t\twp.data.select( 'core/edit-post' ).isFeatureActive( 'welcomeGuide' )\n\t);\n\tconst isFullscreenMode = await page.evaluate( () =>\n\t\twp.data.select( 'core/edit-post' ).isFeatureActive( 'fullscreenMode' )\n\t);\n\n\tif ( showWelcomeGuide !== isWelcomeGuideActive ) {\n\t\tawait page.evaluate( () =>\n\t\t\twp.data.dispatch( 'core/edit-post' ).toggleFeature( 'welcomeGuide' )\n\t\t);\n\n\t\tawait page.reload();\n\t}\n\n\tif ( isFullscreenMode ) {\n\t\tawait page.evaluate( () =>\n\t\t\twp.data\n\t\t\t\t.dispatch( 'core/edit-post' )\n\t\t\t\t.toggleFeature( 'fullscreenMode' )\n\t\t);\n\t}\n}\n"]}