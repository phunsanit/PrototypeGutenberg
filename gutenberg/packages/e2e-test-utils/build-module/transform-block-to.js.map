{"version":3,"sources":["@wordpress/e2e-test-utils/src/transform-block-to.js"],"names":["transformBlockTo","name","page","mouse","move","waitForSelector","switcherToggle","click","$x","insertButton","evaluate","element","scrollIntoView","BLOCK_SELECTOR","BLOCK_NAME_SELECTOR"],"mappings":";;;AAAA;;;;;AAKA,gBAAsBA,gBAAtB;AAAA;AAAA;;;+EAAO,iBAAiCC,IAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACAC,IAAI,CAACC,KAAL,CAAWC,IAAX,CAAiB,CAAjB,EAAoB,CAApB,CADA;;AAAA;AAAA;AAAA,mBAEAF,IAAI,CAACC,KAAL,CAAWC,IAAX,CAAiB,EAAjB,EAAqB,EAArB,CAFA;;AAAA;AAAA;AAAA,mBAGuBF,IAAI,CAACG,eAAL,CAC5B,sCAD4B,CAHvB;;AAAA;AAGAC,YAAAA,cAHA;AAAA;AAAA,mBAMAA,cAAc,CAACC,KAAf,EANA;;AAAA;AAAA;AAAA,mBAUCL,IAAI,CAACM,EAAL,sFACwEP,IADxE,QAVD;;AAAA;AASAQ,YAAAA,YATA,iBAaF,CAbE;AAAA;AAAA,mBAgBAA,YAAY,CAACC,QAAb,CAAuB,UAAEC,OAAF;AAAA,qBAAeA,OAAO,CAACC,cAAR,EAAf;AAAA,aAAvB,CAhBA;;AAAA;AAAA;AAAA,mBAiBAH,YAAY,CAACF,KAAb,EAjBA;;AAAA;AAmBN;AACMM,YAAAA,cApBA,GAoBiB,iCApBjB;AAqBAC,YAAAA,mBArBA,2BAqBuCb,IArBvC;AAAA;AAAA,mBAsBAC,IAAI,CAACG,eAAL,WAA0BQ,cAA1B,SAA6CC,mBAA7C,EAtBA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G","sourcesContent":["/**\n * Converts editor's block type.\n *\n * @param {string} name Block name.\n */\nexport async function transformBlockTo( name ) {\n\tawait page.mouse.move( 0, 0 );\n\tawait page.mouse.move( 10, 10 );\n\tconst switcherToggle = await page.waitForSelector(\n\t\t'.block-editor-block-switcher__toggle'\n\t);\n\tawait switcherToggle.click();\n\n\t// Find the block button option within the switcher popover.\n\tconst insertButton = (\n\t\tawait page.$x(\n\t\t\t`//*[contains(@class, \"block-editor-block-switcher__popover\")]//button[.='${ name }']`\n\t\t)\n\t )[ 0 ];\n\n\t// Clicks may fail if the button is out of view. Assure it is before click.\n\tawait insertButton.evaluate( ( element ) => element.scrollIntoView() );\n\tawait insertButton.click();\n\n\t// Wait for the transformed block to appear.\n\tconst BLOCK_SELECTOR = '.block-editor-block-list__block';\n\tconst BLOCK_NAME_SELECTOR = `[data-title=\"${ name }\"]`;\n\tawait page.waitForSelector( `${ BLOCK_SELECTOR }${ BLOCK_NAME_SELECTOR }` );\n}\n"]}