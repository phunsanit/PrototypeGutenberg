{"version":3,"sources":["@wordpress/edit-post/src/components/keyboard-shortcuts/index.js"],"names":["useEffect","useSelect","useDispatch","useShortcut","__","KeyboardShortcuts","select","settings","getEditorSettings","getBlockSelectionStart","getEditorMode","isEditorSidebarOpened","richEditingEnabled","codeEditingEnabled","switchEditorMode","openGeneralSidebar","closeGeneralSidebar","toggleFeature","registerShortcut","name","category","description","keyCombination","modifier","character","aliases","bindGlobal","isDisabled","event","preventDefault","sidebarToOpen"],"mappings":"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","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { useEffect } from '@wordpress/element';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { useShortcut } from '@wordpress/keyboard-shortcuts';\nimport { __ } from '@wordpress/i18n';\n\nfunction KeyboardShortcuts() {\n\tconst {\n\t\tgetBlockSelectionStart,\n\t\tgetEditorMode,\n\t\tisEditorSidebarOpened,\n\t\trichEditingEnabled,\n\t\tcodeEditingEnabled,\n\t} = useSelect( ( select ) => {\n\t\tconst settings = select( 'core/editor' ).getEditorSettings();\n\t\treturn {\n\t\t\tgetBlockSelectionStart: select( 'core/block-editor' )\n\t\t\t\t.getBlockSelectionStart,\n\t\t\tgetEditorMode: select( 'core/edit-post' ).getEditorMode,\n\t\t\tisEditorSidebarOpened: select( 'core/edit-post' )\n\t\t\t\t.isEditorSidebarOpened,\n\t\t\trichEditingEnabled: settings.richEditingEnabled,\n\t\t\tcodeEditingEnabled: settings.codeEditingEnabled,\n\t\t};\n\t} );\n\n\tconst {\n\t\tswitchEditorMode,\n\t\topenGeneralSidebar,\n\t\tcloseGeneralSidebar,\n\t\ttoggleFeature,\n\t} = useDispatch( 'core/edit-post' );\n\tconst { registerShortcut } = useDispatch( 'core/keyboard-shortcuts' );\n\n\tuseEffect( () => {\n\t\tregisterShortcut( {\n\t\t\tname: 'core/edit-post/toggle-mode',\n\t\t\tcategory: 'global',\n\t\t\tdescription: __( 'Switch between visual editor and code editor.' ),\n\t\t\tkeyCombination: {\n\t\t\t\tmodifier: 'secondary',\n\t\t\t\tcharacter: 'm',\n\t\t\t},\n\t\t} );\n\n\t\tregisterShortcut( {\n\t\t\tname: 'core/edit-post/toggle-fullscreen',\n\t\t\tcategory: 'global',\n\t\t\tdescription: __( 'Toggle fullscreen mode.' ),\n\t\t\tkeyCombination: {\n\t\t\t\tmodifier: 'secondary',\n\t\t\t\tcharacter: 'f',\n\t\t\t},\n\t\t} );\n\n\t\tregisterShortcut( {\n\t\t\tname: 'core/edit-post/toggle-block-navigation',\n\t\t\tcategory: 'global',\n\t\t\tdescription: __( 'Open the block navigation menu.' ),\n\t\t\tkeyCombination: {\n\t\t\t\tmodifier: 'access',\n\t\t\t\tcharacter: 'o',\n\t\t\t},\n\t\t} );\n\n\t\tregisterShortcut( {\n\t\t\tname: 'core/edit-post/toggle-sidebar',\n\t\t\tcategory: 'global',\n\t\t\tdescription: __( 'Show or hide the settings sidebar.' ),\n\t\t\tkeyCombination: {\n\t\t\t\tmodifier: 'primaryShift',\n\t\t\t\tcharacter: ',',\n\t\t\t},\n\t\t} );\n\n\t\tregisterShortcut( {\n\t\t\tname: 'core/edit-post/next-region',\n\t\t\tcategory: 'global',\n\t\t\tdescription: __( 'Navigate to the next part of the editor.' ),\n\t\t\tkeyCombination: {\n\t\t\t\tmodifier: 'ctrl',\n\t\t\t\tcharacter: '`',\n\t\t\t},\n\t\t\taliases: [\n\t\t\t\t{\n\t\t\t\t\tmodifier: 'access',\n\t\t\t\t\tcharacter: 'n',\n\t\t\t\t},\n\t\t\t],\n\t\t} );\n\n\t\tregisterShortcut( {\n\t\t\tname: 'core/edit-post/previous-region',\n\t\t\tcategory: 'global',\n\t\t\tdescription: __( 'Navigate to the previous part of the editor.' ),\n\t\t\tkeyCombination: {\n\t\t\t\tmodifier: 'ctrlShift',\n\t\t\t\tcharacter: '`',\n\t\t\t},\n\t\t\taliases: [\n\t\t\t\t{\n\t\t\t\t\tmodifier: 'access',\n\t\t\t\t\tcharacter: 'p',\n\t\t\t\t},\n\t\t\t],\n\t\t} );\n\n\t\tregisterShortcut( {\n\t\t\tname: 'core/edit-post/keyboard-shortcuts',\n\t\t\tcategory: 'main',\n\t\t\tdescription: __( 'Display these keyboard shortcuts.' ),\n\t\t\tkeyCombination: {\n\t\t\t\tmodifier: 'access',\n\t\t\t\tcharacter: 'h',\n\t\t\t},\n\t\t} );\n\t}, [] );\n\n\tuseShortcut(\n\t\t'core/edit-post/toggle-mode',\n\t\t() => {\n\t\t\tswitchEditorMode(\n\t\t\t\tgetEditorMode() === 'visual' ? 'text' : 'visual'\n\t\t\t);\n\t\t},\n\t\t{\n\t\t\tbindGlobal: true,\n\t\t\tisDisabled: ! richEditingEnabled || ! codeEditingEnabled,\n\t\t}\n\t);\n\n\tuseShortcut(\n\t\t'core/edit-post/toggle-fullscreen',\n\t\t() => {\n\t\t\ttoggleFeature( 'fullscreenMode' );\n\t\t},\n\t\t{\n\t\t\tbindGlobal: true,\n\t\t}\n\t);\n\n\tuseShortcut(\n\t\t'core/edit-post/toggle-sidebar',\n\t\t( event ) => {\n\t\t\t// This shortcut has no known clashes, but use preventDefault to prevent any\n\t\t\t// obscure shortcuts from triggering.\n\t\t\tevent.preventDefault();\n\n\t\t\tif ( isEditorSidebarOpened() ) {\n\t\t\t\tcloseGeneralSidebar();\n\t\t\t} else {\n\t\t\t\tconst sidebarToOpen = getBlockSelectionStart()\n\t\t\t\t\t? 'edit-post/block'\n\t\t\t\t\t: 'edit-post/document';\n\t\t\t\topenGeneralSidebar( sidebarToOpen );\n\t\t\t}\n\t\t},\n\t\t{ bindGlobal: true }\n\t);\n\n\treturn null;\n}\n\nexport default KeyboardShortcuts;\n"]}