{"version":3,"sources":["@wordpress/edit-post/src/components/header/index.js"],"names":["Header","onToggleInserter","isInserterOpen","setEntitiesSavedStatesCallback","select","hasActiveMetaboxes","hasMetaBoxes","isPublishSidebarOpened","isSaving","isSavingMetaBoxes","undefined"],"mappings":";;;;;;;;;;;AAGA;;AACA;;AACA;;AAQA;;AACA;;AACA;;AACA;;AACA;;AAjBA;;;;AAUA;;;AASA,SAASA,MAAT,OAII;AAAA,MAHHC,gBAGG,QAHHA,gBAGG;AAAA,MAFHC,cAEG,QAFHA,cAEG;AAAA,MADHC,8BACG,QADHA,8BACG;;AAAA,mBAC8D,qBAChE,UAAEC,MAAF;AAAA,WAAgB;AACfC,MAAAA,kBAAkB,EAAED,MAAM,CAAE,gBAAF,CAAN,CAA2BE,YAA3B,EADL;AAEfC,MAAAA,sBAAsB,EAAEH,MAAM,CAC7B,gBAD6B,CAAN,CAEtBG,sBAFsB,EAFT;AAKfC,MAAAA,QAAQ,EAAEJ,MAAM,CAAE,gBAAF,CAAN,CAA2BK,iBAA3B;AALK,KAAhB;AAAA,GADgE,EAQhE,EARgE,CAD9D;AAAA,MACKJ,kBADL,cACKA,kBADL;AAAA,MACyBE,sBADzB,cACyBA,sBADzB;AAAA,MACiDC,QADjD,cACiDA,QADjD;;AAYH,SACC;AAAK,IAAA,SAAS,EAAC;AAAf,KACC,4BAAC,4CAAD,CAAqB,IAArB,QACC,4BAAC,4BAAD,OADD,CADD,EAIC;AAAK,IAAA,SAAS,EAAC;AAAf,KACC,4BAAC,sBAAD;AACC,IAAA,gBAAgB,EAAGP,gBADpB;AAEC,IAAA,cAAc,EAAGC;AAFlB,IADD,CAJD,EAUC;AAAK,IAAA,SAAS,EAAC;AAAf,KACG,CAAEK,sBAAF,IACD;AACA;AACA;AACA;AACA;AACA,8BAAC,sBAAD;AACC,IAAA,YAAY,EAAGF,kBADhB;AAEC,IAAA,aAAa,EAAGG;AAFjB,IAPF,EAYC,4BAAC,sBAAD,OAZD,EAaC,4BAAC,yBAAD;AACC,IAAA,mBAAmB,EAAGH,kBADvB;AAEC,IAAA,gBAAgB,EAAGG,QAAQ,GAAG,IAAH,GAAUE;AAFtC,IAbD,EAiBC,4BAAC,kCAAD;AACC,IAAA,YAAY,EAAGL,kBADhB;AAEC,IAAA,aAAa,EAAGG,QAFjB;AAGC,IAAA,8BAA8B,EAC7BL;AAJF,IAjBD,EAwBC,4BAAC,sBAAD,CAAa,IAAb;AAAkB,IAAA,KAAK,EAAC;AAAxB,IAxBD,EAyBC,4BAAC,iBAAD,OAzBD,CAVD,CADD;AAwCA;;eAEcH,M","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { PostSavedState, PostPreviewButton } from '@wordpress/editor';\nimport { useSelect } from '@wordpress/data';\nimport {\n\tPinnedItems,\n\t__experimentalMainDashboardButton as MainDashboardButton,\n} from '@wordpress/interface';\n\n/**\n * Internal dependencies\n */\nimport FullscreenModeClose from './fullscreen-mode-close';\nimport HeaderToolbar from './header-toolbar';\nimport MoreMenu from './more-menu';\nimport PostPublishButtonOrToggle from './post-publish-button-or-toggle';\nimport { default as DevicePreview } from '../device-preview';\n\nfunction Header( {\n\tonToggleInserter,\n\tisInserterOpen,\n\tsetEntitiesSavedStatesCallback,\n} ) {\n\tconst { hasActiveMetaboxes, isPublishSidebarOpened, isSaving } = useSelect(\n\t\t( select ) => ( {\n\t\t\thasActiveMetaboxes: select( 'core/edit-post' ).hasMetaBoxes(),\n\t\t\tisPublishSidebarOpened: select(\n\t\t\t\t'core/edit-post'\n\t\t\t).isPublishSidebarOpened(),\n\t\t\tisSaving: select( 'core/edit-post' ).isSavingMetaBoxes(),\n\t\t} ),\n\t\t[]\n\t);\n\n\treturn (\n\t\t<div className=\"edit-post-header\">\n\t\t\t<MainDashboardButton.Slot>\n\t\t\t\t<FullscreenModeClose />\n\t\t\t</MainDashboardButton.Slot>\n\t\t\t<div className=\"edit-post-header__toolbar\">\n\t\t\t\t<HeaderToolbar\n\t\t\t\t\tonToggleInserter={ onToggleInserter }\n\t\t\t\t\tisInserterOpen={ isInserterOpen }\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div className=\"edit-post-header__settings\">\n\t\t\t\t{ ! isPublishSidebarOpened && (\n\t\t\t\t\t// This button isn't completely hidden by the publish sidebar.\n\t\t\t\t\t// We can't hide the whole toolbar when the publish sidebar is open because\n\t\t\t\t\t// we want to prevent mounting/unmounting the PostPublishButtonOrToggle DOM node.\n\t\t\t\t\t// We track that DOM node to return focus to the PostPublishButtonOrToggle\n\t\t\t\t\t// when the publish sidebar has been closed.\n\t\t\t\t\t<PostSavedState\n\t\t\t\t\t\tforceIsDirty={ hasActiveMetaboxes }\n\t\t\t\t\t\tforceIsSaving={ isSaving }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t\t<DevicePreview />\n\t\t\t\t<PostPreviewButton\n\t\t\t\t\tforceIsAutosaveable={ hasActiveMetaboxes }\n\t\t\t\t\tforcePreviewLink={ isSaving ? null : undefined }\n\t\t\t\t/>\n\t\t\t\t<PostPublishButtonOrToggle\n\t\t\t\t\tforceIsDirty={ hasActiveMetaboxes }\n\t\t\t\t\tforceIsSaving={ isSaving }\n\t\t\t\t\tsetEntitiesSavedStatesCallback={\n\t\t\t\t\t\tsetEntitiesSavedStatesCallback\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t<PinnedItems.Slot scope=\"core/edit-post\" />\n\t\t\t\t<MoreMenu />\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default Header;\n"]}