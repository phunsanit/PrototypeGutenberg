{"version":3,"sources":["@wordpress/edit-post/src/components/header/mode-switcher/index.js"],"names":["MODES","value","label","ModeSwitcher","select","shortcut","getShortcutRepresentation","isRichEditingEnabled","getEditorSettings","richEditingEnabled","isCodeEditingEnabled","codeEditingEnabled","mode","getEditorMode","switchEditorMode","choices","map","choice"],"mappings":";;;;;;;;;;;;;AAGA;;AACA;;AACA;;;;;;AAEA;;;;;AAKA,IAAMA,KAAK,GAAG,CACb;AACCC,EAAAA,KAAK,EAAE,QADR;AAECC,EAAAA,KAAK,EAAE,cAAI,eAAJ;AAFR,CADa,EAKb;AACCD,EAAAA,KAAK,EAAE,MADR;AAECC,EAAAA,KAAK,EAAE,cAAI,aAAJ;AAFR,CALa,CAAd;;AAWA,SAASC,YAAT,GAAwB;AAAA,mBAMnB,qBACH,UAAEC,MAAF;AAAA,WAAgB;AACfC,MAAAA,QAAQ,EAAED,MAAM,CACf,yBADe,CAAN,CAERE,yBAFQ,CAEmB,4BAFnB,CADK;AAIfC,MAAAA,oBAAoB,EAAEH,MAAM,CAAE,aAAF,CAAN,CAAwBI,iBAAxB,GACpBC,kBALa;AAMfC,MAAAA,oBAAoB,EAAEN,MAAM,CAAE,aAAF,CAAN,CAAwBI,iBAAxB,GACpBG,kBAPa;AAQfC,MAAAA,IAAI,EAAER,MAAM,CAAE,gBAAF,CAAN,CAA2BS,aAA3B;AARS,KAAhB;AAAA,GADG,EAWH,EAXG,CANmB;AAAA,MAEtBR,QAFsB,cAEtBA,QAFsB;AAAA,MAGtBE,oBAHsB,cAGtBA,oBAHsB;AAAA,MAItBG,oBAJsB,cAItBA,oBAJsB;AAAA,MAKtBE,IALsB,cAKtBA,IALsB;;AAAA,qBAmBM,uBAAa,gBAAb,CAnBN;AAAA,MAmBfE,gBAnBe,gBAmBfA,gBAnBe;;AAqBvB,MAAK,CAAEP,oBAAF,IAA0B,CAAEG,oBAAjC,EAAwD;AACvD,WAAO,IAAP;AACA;;AAED,MAAMK,OAAO,GAAGf,KAAK,CAACgB,GAAN,CAAW,UAAEC,MAAF,EAAc;AACxC,QAAKA,MAAM,CAAChB,KAAP,KAAiBW,IAAtB,EAA6B;AAC5B,+BAAYK,MAAZ;AAAoBZ,QAAAA,QAAQ,EAARA;AAApB;AACA;;AACD,WAAOY,MAAP;AACA,GALe,CAAhB;AAOA,SACC,4BAAC,qBAAD;AAAW,IAAA,KAAK,EAAG,cAAI,QAAJ;AAAnB,KACC,4BAAC,2BAAD;AACC,IAAA,OAAO,EAAGF,OADX;AAEC,IAAA,KAAK,EAAGH,IAFT;AAGC,IAAA,QAAQ,EAAGE;AAHZ,IADD,CADD;AASA;;eAEcX,Y","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { MenuItemsChoice, MenuGroup } from '@wordpress/components';\nimport { useSelect, useDispatch } from '@wordpress/data';\n\n/**\n * Set of available mode options.\n *\n * @type {Array}\n */\nconst MODES = [\n\t{\n\t\tvalue: 'visual',\n\t\tlabel: __( 'Visual editor' ),\n\t},\n\t{\n\t\tvalue: 'text',\n\t\tlabel: __( 'Code editor' ),\n\t},\n];\n\nfunction ModeSwitcher() {\n\tconst {\n\t\tshortcut,\n\t\tisRichEditingEnabled,\n\t\tisCodeEditingEnabled,\n\t\tmode,\n\t} = useSelect(\n\t\t( select ) => ( {\n\t\t\tshortcut: select(\n\t\t\t\t'core/keyboard-shortcuts'\n\t\t\t).getShortcutRepresentation( 'core/edit-post/toggle-mode' ),\n\t\t\tisRichEditingEnabled: select( 'core/editor' ).getEditorSettings()\n\t\t\t\t.richEditingEnabled,\n\t\t\tisCodeEditingEnabled: select( 'core/editor' ).getEditorSettings()\n\t\t\t\t.codeEditingEnabled,\n\t\t\tmode: select( 'core/edit-post' ).getEditorMode(),\n\t\t} ),\n\t\t[]\n\t);\n\tconst { switchEditorMode } = useDispatch( 'core/edit-post' );\n\n\tif ( ! isRichEditingEnabled || ! isCodeEditingEnabled ) {\n\t\treturn null;\n\t}\n\n\tconst choices = MODES.map( ( choice ) => {\n\t\tif ( choice.value !== mode ) {\n\t\t\treturn { ...choice, shortcut };\n\t\t}\n\t\treturn choice;\n\t} );\n\n\treturn (\n\t\t<MenuGroup label={ __( 'Editor' ) }>\n\t\t\t<MenuItemsChoice\n\t\t\t\tchoices={ choices }\n\t\t\t\tvalue={ mode }\n\t\t\t\tonSelect={ switchEditorMode }\n\t\t\t/>\n\t\t</MenuGroup>\n\t);\n}\n\nexport default ModeSwitcher;\n"]}