{"version":3,"sources":["@wordpress/edit-post/src/components/options-modal/options/enable-custom-fields.js"],"names":["CustomFieldsConfirmation","willEnable","isReloading","setIsReloading","document","getElementById","submit","EnableCustomFieldsOption","label","areCustomFieldsEnabled","isChecked","setIsChecked","select","getEditorSettings","enableCustomFields"],"mappings":";;;;;;;;;;;AAGA;;;;AACA;;AACA;;AACA;;AAKA;;AAXA;;;;AAQA;;;AAKO,SAASA,wBAAT,OAAoD;AAAA,MAAfC,UAAe,QAAfA,UAAe;;AAAA,kBAClB,uBAAU,KAAV,CADkB;AAAA;AAAA,MAClDC,WADkD;AAAA,MACrCC,cADqC;;AAG1D,SACC,qDACC;AAAG,IAAA,SAAS,EAAC;AAAb,KACG,cACD,8FADC,CADH,CADD,EAMC,4BAAC,kBAAD;AACC,IAAA,SAAS,EAAC,4DADX;AAEC,IAAA,WAAW,MAFZ;AAGC,IAAA,MAAM,EAAGD,WAHV;AAIC,IAAA,QAAQ,EAAGA,WAJZ;AAKC,IAAA,OAAO,EAAG,mBAAM;AACfC,MAAAA,cAAc,CAAE,IAAF,CAAd;AACAC,MAAAA,QAAQ,CACNC,cADF,CACkB,2BADlB,EAEEC,MAFF;AAGA;AAVF,KAYGL,UAAU,GACT,cAAI,iBAAJ,CADS,GAET,cAAI,kBAAJ,CAdJ,CAND,CADD;AAyBA;;AAEM,SAASM,wBAAT,QAAuE;AAAA,MAAlCC,KAAkC,SAAlCA,KAAkC;AAAA,MAA3BC,sBAA2B,SAA3BA,sBAA2B;;AAAA,mBACzC,uBAAUA,sBAAV,CADyC;AAAA;AAAA,MACrEC,SADqE;AAAA,MAC1DC,YAD0D;;AAG7E,SACC,4BAAC,aAAD;AACC,IAAA,KAAK,EAAGH,KADT;AAEC,IAAA,SAAS,EAAGE,SAFb;AAGC,IAAA,QAAQ,EAAGC;AAHZ,KAKGD,SAAS,KAAKD,sBAAd,IACD,4BAAC,wBAAD;AAA0B,IAAA,UAAU,EAAGC;AAAvC,IANF,CADD;AAWA;;eAEc,sBAAY,UAAEE,MAAF;AAAA,SAAgB;AAC1CH,IAAAA,sBAAsB,EAAE,CAAC,CAAEG,MAAM,CAAE,aAAF,CAAN,CAAwBC,iBAAxB,GACzBC;AAFwC,GAAhB;AAAA,CAAZ,EAGRP,wBAHQ,C","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { useState } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\nimport { Button } from '@wordpress/components';\nimport { withSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport BaseOption from './base';\n\nexport function CustomFieldsConfirmation( { willEnable } ) {\n\tconst [ isReloading, setIsReloading ] = useState( false );\n\n\treturn (\n\t\t<>\n\t\t\t<p className=\"edit-post-options-modal__custom-fields-confirmation-message\">\n\t\t\t\t{ __(\n\t\t\t\t\t'A page reload is required for this change. Make sure your content is saved before reloading.'\n\t\t\t\t) }\n\t\t\t</p>\n\t\t\t<Button\n\t\t\t\tclassName=\"edit-post-options-modal__custom-fields-confirmation-button\"\n\t\t\t\tisSecondary\n\t\t\t\tisBusy={ isReloading }\n\t\t\t\tdisabled={ isReloading }\n\t\t\t\tonClick={ () => {\n\t\t\t\t\tsetIsReloading( true );\n\t\t\t\t\tdocument\n\t\t\t\t\t\t.getElementById( 'toggle-custom-fields-form' )\n\t\t\t\t\t\t.submit();\n\t\t\t\t} }\n\t\t\t>\n\t\t\t\t{ willEnable\n\t\t\t\t\t? __( 'Enable & Reload' )\n\t\t\t\t\t: __( 'Disable & Reload' ) }\n\t\t\t</Button>\n\t\t</>\n\t);\n}\n\nexport function EnableCustomFieldsOption( { label, areCustomFieldsEnabled } ) {\n\tconst [ isChecked, setIsChecked ] = useState( areCustomFieldsEnabled );\n\n\treturn (\n\t\t<BaseOption\n\t\t\tlabel={ label }\n\t\t\tisChecked={ isChecked }\n\t\t\tonChange={ setIsChecked }\n\t\t>\n\t\t\t{ isChecked !== areCustomFieldsEnabled && (\n\t\t\t\t<CustomFieldsConfirmation willEnable={ isChecked } />\n\t\t\t) }\n\t\t</BaseOption>\n\t);\n}\n\nexport default withSelect( ( select ) => ( {\n\tareCustomFieldsEnabled: !! select( 'core/editor' ).getEditorSettings()\n\t\t.enableCustomFields,\n} ) )( EnableCustomFieldsOption );\n"]}