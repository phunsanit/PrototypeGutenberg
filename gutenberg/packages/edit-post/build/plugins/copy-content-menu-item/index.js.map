{"version":3,"sources":["@wordpress/edit-post/src/plugins/copy-content-menu-item/index.js"],"names":["CopyContentMenuItem","createNotice","editedPostContent","ref","hasCopied","isDismissible","type","select","getEditedPostAttribute","dispatch","length"],"mappings":";;;;;;;AAOA;;AAJA;;AACA;;AACA;;AACA;;AANA;;;AASA,SAASA,mBAAT,OAAoE;AAAA,MAApCC,YAAoC,QAApCA,YAAoC;AAAA,MAAtBC,iBAAsB,QAAtBA,iBAAsB;AACnE,MAAMC,GAAG,GAAG,sBAAZ;AACA,MAAMC,SAAS,GAAG,6BAAgBD,GAAhB,EAAqBD,iBAArB,CAAlB;AAEA,0BAAW,YAAM;AAChB,QAAK,CAAEE,SAAP,EAAmB;AAClB;AACA;;AAEDH,IAAAA,YAAY,CAAE,MAAF,EAAU,cAAI,qBAAJ,CAAV,EAAuC;AAClDI,MAAAA,aAAa,EAAE,IADmC;AAElDC,MAAAA,IAAI,EAAE;AAF4C,KAAvC,CAAZ;AAIA,GATD,EASG,CAAEF,SAAF,CATH;AAWA,SACC,4BAAC,oBAAD;AAAU,IAAA,GAAG,EAAGD;AAAhB,KACGC,SAAS,GAAG,cAAI,SAAJ,CAAH,GAAqB,cAAI,kBAAJ,CADjC,CADD;AAKA;;eAEc,sBACd,sBAAY,UAAEG,MAAF;AAAA,SAAgB;AAC3BL,IAAAA,iBAAiB,EAAEK,MAAM,CAAE,aAAF,CAAN,CAAwBC,sBAAxB,CAClB,SADkB;AADQ,GAAhB;AAAA,CAAZ,CADc,EAMd,wBAAc,UAAEC,QAAF,EAAgB;AAAA,kBACJA,QAAQ,CAAE,cAAF,CADJ;AAAA,MACrBR,YADqB,aACrBA,YADqB;;AAG7B,SAAO;AACNA,IAAAA,YAAY,EAAZA;AADM,GAAP;AAGA,CAND,CANc,EAad,0BAAa;AAAA,MAAIC,iBAAJ,SAAIA,iBAAJ;AAAA,SAA6BA,iBAAiB,CAACQ,MAAlB,GAA2B,CAAxD;AAAA,CAAb,CAbc,EAcZV,mBAdY,C","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { MenuItem } from '@wordpress/components';\nimport { withDispatch, withSelect } from '@wordpress/data';\nimport { __ } from '@wordpress/i18n';\nimport { useCopyOnClick, compose, ifCondition } from '@wordpress/compose';\nimport { useRef, useEffect } from '@wordpress/element';\n\nfunction CopyContentMenuItem( { createNotice, editedPostContent } ) {\n\tconst ref = useRef();\n\tconst hasCopied = useCopyOnClick( ref, editedPostContent );\n\n\tuseEffect( () => {\n\t\tif ( ! hasCopied ) {\n\t\t\treturn;\n\t\t}\n\n\t\tcreateNotice( 'info', __( 'All content copied.' ), {\n\t\t\tisDismissible: true,\n\t\t\ttype: 'snackbar',\n\t\t} );\n\t}, [ hasCopied ] );\n\n\treturn (\n\t\t<MenuItem ref={ ref }>\n\t\t\t{ hasCopied ? __( 'Copied!' ) : __( 'Copy all content' ) }\n\t\t</MenuItem>\n\t);\n}\n\nexport default compose(\n\twithSelect( ( select ) => ( {\n\t\teditedPostContent: select( 'core/editor' ).getEditedPostAttribute(\n\t\t\t'content'\n\t\t),\n\t} ) ),\n\twithDispatch( ( dispatch ) => {\n\t\tconst { createNotice } = dispatch( 'core/notices' );\n\n\t\treturn {\n\t\t\tcreateNotice,\n\t\t};\n\t} ),\n\tifCondition( ( { editedPostContent } ) => editedPostContent.length > 0 )\n)( CopyContentMenuItem );\n"]}